(this["webpackJsonpsailplane-web"]=this["webpackJsonpsailplane-web"]||[]).push([[0],{1016:function(e,t){},1018:function(e,t){},1045:function(e,t){},1197:function(e,t){},1199:function(e,t){},1204:function(e,t){},1206:function(e,t){},1234:function(e,t){},1271:function(e,t){},1273:function(e,t){},1299:function(e,t){},1388:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(133),o=n.n(c),i=(n(561),n(200)),s=n(44),u=n(537),l=n(547);function f(){return a.a.createElement(i.a,null,a.a.createElement(s.a,{exact:!0,path:"/",component:u.a}),a.a.createElement(s.a,{exact:!0,path:"/download/:cid/:path",component:l.a}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=n(33),p=n(549),m=n(48),b=n(316),y=n(550),v=n.n(y),g=n(551),h=n.n(g),j=n(55),O=n(137),E={instances:[],instanceIndex:0,encryptionKey:null};var w=n(51),x={status:{}};var C=Object(m.c)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a.ADD_INSTANCE:var n=t.name,r=t.address;return Object(O.a)(e,(function(e){e.instances.push({name:n,address:r})}));case j.a.SET_INSTANCE_INDEX:var a=t.index;return Object(O.a)(e,(function(e){e.instanceIndex=a}));case j.a.SET_ENCRYPTION_KEY:var c=t.key,o=t.keyType;return Object(O.a)(e,(function(e){e.encryptionKey={key:c,type:o}}));case j.a.CLEAR_ENCRYPTION_KEY:t.key,t.keyType;return Object(O.a)(e,(function(e){e.encryptionKey=null}));case j.a.REMOVE_INSTANCE:var i=t.index;return Object(O.a)(e,(function(t){t.instances=e.instances.filter((function(e,t){return i!==t})),t.instances[t.instanceIndex]||(console.log("inner ran"),t.instanceIndex=0)}))}return e},tempData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.b.SET_STATUS:return Object(w.a)(Object(w.a)({},e),{},{status:t.status})}return e}}),k=n(552),F={key:"root",storage:v.a,blacklist:["tempData"],stateReconciler:h.a},S=Object(b.a)(F,C),I=[],D=Object(k.createLogger)();I.push(D);var R=function(e){var t=Object(m.d)(m.a.apply(void 0,I))(m.e)(S);return{store:t,persistor:Object(b.b)(t)}}(),T=R.store,A=R.persistor;o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(d.a,{store:T},a.a.createElement(p.a,{loading:null,persistor:A},a.a.createElement(f,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r="#2b6284",a="#ecf4f9",c="#9fc7e0",o="#97bace",i="#609bb8",s="hsla(205, 49%, 66%, 1)",u="#67a1cb",l="#3881ad",f="#ef6565",d="#53c171"},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n.n(r),c=n(18),o=n(45),i=n(33);function s(){var e=Object(i.d)((function(e){return e.tempData.status})),t=e.message,n=e.isError,r={container:{position:"fixed",bottom:10,backgroundColor:c.e,padding:8,borderRadius:4,fontFamily:"Open Sans",color:n?c.a:"#FFF",fontSize:14,display:"flex",alignItems:"center",height:18,opacity:t?1:0},message:{marginLeft:4}},s=o.f;n&&(s=o.a);var u=s;return a.a.createElement("div",{style:r.container},a.a.createElement(u,{color:n?c.a:"#FFF",size:16,style:r.icon,className:n?"":"rotating"}),a.a.createElement("span",{style:r.message},t))}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20),a=n(2);function c(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(a.useState)(t),c=Object(r.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){i(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),o}},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),a=n.n(r),c=n(11),o=n(20),i=n(544),s=n.n(i),u=n(2),l=null;function f(){var e=Object(u.useState)(Boolean(l)),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(u.useState)(null),f=Object(o.a)(i,2),d=f[0],p=f[1];return Object(u.useEffect)((function(){function e(){return(e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=4;break}console.log("IPFS already started"),e.next=24;break;case 4:if(!window.ipfs||!window.ipfs.enable){e.next=11;break}return console.log("Found window.ipfs"),e.next=8,window.ipfs.enable({commands:["id"]});case 8:l=e.sent,e.next=24;break;case 11:return e.prev=11,console.time("IPFS Started"),e.next=15,s.a.create({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/webrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star/","/dns4/libp2p-rdv.vps.revolunet.com/tcp/443/wss/p2p-webrtc-star/"]}}});case 15:l=e.sent,console.timeEnd("IPFS Started"),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(11),console.error("IPFS init error:",e.t0),l=null,p(e.t0);case 24:window.ipfs=l,r(Boolean(l));case 26:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){l&&l.stop&&(console.log("Stopping IPFS"),l.stop().catch((function(e){return console.error(e)})),l=null,r(!1))}}),[]),{ipfs:l,isIpfsReady:n,ipfsInitError:d}}},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n.n(r),c={container:{padding:10,backgroundColor:"#FFF",textAlign:"center",width:"100%",paddingTop:100,fontSize:20,fontFamily:"MuseoModerno",fontWeight:"300",color:n(18).g}};function o(){return a.a.createElement("div",{style:c.container},"Loading...")}},207:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),a=n.n(r),c=n(18),o=n(78),i=n(20),s=n(69);function u(e){var t=e.selected,n=e.onClick,r=e.title,o=e.iconComponent,u=Object(s.a)(),l=Object(i.a)(u,2),f=l[0],d=l[1],p=o,m={container:{backgroundColor:t?"#FFF":d?c.i:null,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",fontSize:16,cursor:"pointer",padding:8,borderRadius:4,marginBottom:8},title:{color:t?c.g:"#FFF"},icon:{marginRight:4}};return a.a.createElement("div",{style:m.container,onClick:n,ref:f},o?a.a.createElement(p,{color:t?c.h:"#FFF",size:16,style:m.icon}):null,a.a.createElement("span",{style:m.title},r))}var l={container:{display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:c.h,color:"#FFF",padding:"20px 10px",width:200,fontFamily:"Open Sans",paddingBottom:0},logo:{fontFamily:"MuseoModerno",color:"#FFF",fontSize:24,fontWeight:500,marginBottom:10,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},settingsBlock:{bottom:0,width:"100%"},icon:{marginRight:6}};function f(e){var t=e.setCurrentRightPanel,n=e.currentRightPanel;return a.a.createElement("div",{style:l.container},a.a.createElement("div",null,a.a.createElement("div",{style:l.logo},a.a.createElement(o.f,{color:"#FFF",size:18,style:l.icon}),"Sailplane"),a.a.createElement(u,{title:"Files",iconComponent:o.e,selected:"files"===n,onClick:function(){return t("files")}}),a.a.createElement(u,{title:"Instances",iconComponent:o.c,selected:"instances"===n,onClick:function(){return t("instances")}})),a.a.createElement("div",{style:l.settingsBlock},a.a.createElement(u,{title:"Settings",selected:"settings"===n,onClick:function(){return t("settings")},iconComponent:o.b})))}},218:function(e,t){},317:function(e,t,n){},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(55);function a(e){return{type:r.b.SET_STATUS,status:e}}},537:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),c=n(71),o=n(11),i=n(20),s=n(2),u=n.n(s),l=(n(317),n(207)),f=n(553),d=n(203),p=n(204),m=n(309),b=n.n(m),y=n(310),v=n.n(y),g=n(205),h=n(206),j=n(546),O=n(555),E=n(33),w=n(70),x=n(34);t.a=Object(h.hot)(e)((function(){var e=Object(d.a)().width,t=Object(p.a)(),n=Object(s.useRef)({}),r=Object(s.useRef)(null),m=Object(s.useState)(!1),y=Object(i.a)(m,2),h=y[0],C=y[1],k=Object(s.useState)([]),F=Object(i.a)(k,2),S=F[0],I=F[1],D=Object(s.useState)("/r"),R=Object(i.a)(D,2),T=R[0],A=R[1],N=Object(s.useState)(null),B=Object(i.a)(N,2),P=B[0],_=B[1],z=Object(s.useState)("files"),M=Object(i.a)(z,2),U=M[0],K=M[1],L=Object(E.c)(),Y=Object(E.d)((function(e){return e.main})),H=Y.instances,W=Y.instanceIndex,V=H[W],X=function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,o,i,s,u,l,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=10;break}return L(Object(x.a)({message:"Getting folder"})),e.next=4,n.current.fs.ls(T);case 4:t=e.sent,L(Object(x.a)({})),r=[],o=Object(c.a)(t);try{for(o.s();!(i=o.n()).done;)s=i.value,u=n.current.fs.content(s),l=s.split("/"),f=l[l.length-1],r.push({type:u,name:f,path:s})}catch(a){o.e(a)}finally{o.f()}I(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){X()}),[h,T,P]);var G=Object(s.useCallback)(function(){var e=Object(o.a)(a.a.mark((function e(t,c){var o,i,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(Object(x.a)({message:"Initializing"})),e.next=3,b.a.createInstance(t);case 3:return o=e.sent,e.next=6,v.a.create(o,{});case 6:if(i=e.sent,!H.length){e.next=11;break}s=V.address,e.next=16;break;case 11:return u="main",e.next=14,i.determineAddress("superdrive",{meta:{name:u}});case 14:s=e.sent,L(Object(w.a)(u,s.toString()));case 16:return e.next=18,i.mount(s,{});case 18:n.current=e.sent,n.current.events.on("updated",(function(){_(Date.now())})),r.current=i,c?(A("/r"),_(Date.now())):C(!0),L(Object(x.a)({}));case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[H,W]);return Object(s.useEffect)((function(){t.isIpfsReady&&!h&&G(t.ipfs)}),[t.ipfs,t.isIpfsReady,h,G]),Object(s.useEffect)((function(){t.isIpfsReady&&h&&G(t.ipfs,!0)}),[W,h,H]),u.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},e>600?u.a.createElement(l.a,{setCurrentRightPanel:K,currentRightPanel:U}):null,h?"files"===U?u.a.createElement(f.a,{sharedFs:n,ipfs:t.ipfs,directoryContents:S,setCurrentDirectory:A,currentDirectory:T}):"settings"===U?u.a.createElement(j.a,null):"instances"===U?u.a.createElement(O.a,{sailplane:r.current}):void 0:u.a.createElement(g.a,null))}))}).call(this,n(210)(e))},546:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(201),a=n(2),c=n.n(a),o={container:{padding:10,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column"}};function i(e){return Object(r.a)(e),c.a.createElement("div",{style:o.container})}},547:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),c=n(11),o=n(20),i=n(2),s=n.n(i),u=(n(317),n(207)),l=n(203),f=n(204),d=(n(309),n(310),n(205)),p=n(206),m=n(33),b=n(34),y=n(61),v=n(164),g=n(548);t.a=Object(p.hot)(e)((function(e){var t=e.match,n=Object(l.a)().width,r=Object(f.a)(),p=Object(i.useState)(!1),h=Object(o.a)(p,2),j=h[0],O=h[1],E=Object(i.useState)(!1),w=Object(o.a)(E,2),x=w[0],C=w[1],k=Object(i.useState)("files"),F=Object(o.a)(k,2),S=F[0],I=F[1],D=t.params,R=D.cid,T=D.path,A=decodeURIComponent(T),N=decodeURIComponent(R),B=Object(m.c)();Object(i.useEffect)((function(){r.isIpfsReady&&!j&&O(!0)}),[r.ipfs,r.isIpfsReady,j]);var P=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(Object(b.a)({message:"Fetching file"})),e.next=3,Object(y.a)(N,A,r.ipfs,(function(e,t){B(Object(b.a)({message:"[".concat(Math.round(e/t*100),"%] Downloading")}))}));case 3:t=e.sent,B(Object(b.a)({})),n=A.split("/"),c=n[n.length-1],Object(v.saveAs)(t,c),C(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},n>600?s.a.createElement(u.a,{setCurrentRightPanel:I,currentRightPanel:S}):null,j?s.a.createElement(g.a,{handleDownload:P,ready:j,path:A,downloadComplete:x}):s.a.createElement(d.a,null))}))}).call(this,n(210)(e))},548:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20),a=n(2),c=n.n(a),o=n(202),i=n(18),s={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column"},filename:{color:i.h,fontSize:20},downloadButton:{display:"inline-block",backgroundColor:i.h,color:"#FFF",borderRadius:4,padding:12,marginTop:10,cursor:"pointer"}};function u(e){var t=e.ready,n=e.path,i=e.handleDownload,u=e.downloadComplete,l=n.split("/"),f=l[l.length-1],d=Object(a.useState)(!1),p=Object(r.a)(d,2),m=p[0],b=p[1];return c.a.createElement("div",{style:s.container},c.a.createElement("div",null,t?c.a.createElement("div",null,c.a.createElement("div",{style:s.filename},f),c.a.createElement("div",{style:s.downloadButton,onClick:function(){b(!0),i()}},m&&!u?"Fetching download...":"Download now")):c.a.createElement("div",null)),c.a.createElement(o.a,null))}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={ADD_INSTANCE:"ADD_INSTANCE",REMOVE_INSTANCE:"REMOVE_INSTANCE",SET_INSTANCE_INDEX:"SET_INSTANCE_INDEX",SET_ENCRYPTION_KEY:"SET_ENCRYPTION_KEY",CLEAR_ENCRYPTION_KEY:"CLEAR_ENCRYPTION_KEY"},a={SET_STATUS:"SET_STATUS"}},553:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(1),a=n.n(r),c=n(11),o=n(51),i=n(20),s=n(2),u=n.n(s),l=n(18),f=n(78),d=n(45),p=n(69),m=n(60),b=n(61),y={container:{marginTop:10},image:{width:300},audio:{userSelect:"none",outline:0}};function v(e){var t=e.blob,n=e.filename;console.log("blob",t);var r=Object(b.b)(n),a=window.URL.createObjectURL(t);return u.a.createElement("div",{onClick:function(e){return e.stopPropagation()},style:y.container},["jpg","jpeg","png","gif"].includes(r.toLowerCase())?u.a.createElement("div",null,u.a.createElement("img",{src:a,style:y.image})):null,["mp3","wav","ogg","flac"].includes(r.toLowerCase())?u.a.createElement("div",null,u.a.createElement("audio",{controls:!0},u.a.createElement("source",{src:a,style:y.audio}))):null)}var g=n(200),h=n(164),j=n(167),O=n(85),E=n(33),w=n(34);function x(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsArrayBuffer(e)}))}var C=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,i,s,u,l,f,d,p,m,y,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t).catch((function(e){console.error(e)}));case 2:return r=e.sent,r=new Uint8Array(r),c=new TextEncoder("utf-8").encode(n),o=window.crypto.getRandomValues(new Uint8Array(8)),e.next=8,window.crypto.subtle.importKey("raw",c,{name:"PBKDF2"},!1,["deriveBits"]).catch((function(e){console.error(e)}));case 8:return i=e.sent,console.log("passphrasekey imported"),e.next=12,window.crypto.subtle.deriveBits({name:"PBKDF2",salt:o,iterations:1e4,hash:"SHA-256"},i,384).catch((function(e){console.error(e)}));case 12:return s=e.sent,console.log("pbkdf2bytes derived"),s=new Uint8Array(s),u=s.slice(0,32),l=s.slice(32),e.next=19,window.crypto.subtle.importKey("raw",u,{name:"AES-CBC",length:256},!1,["encrypt"]).catch((function(e){console.error(e)}));case 19:return f=e.sent,console.log("key imported"),e.next=23,window.crypto.subtle.encrypt({name:"AES-CBC",iv:l},f,r).catch((function(e){console.error(e)}));case 23:if(d=e.sent){e.next=27;break}return console.error("Fuck"),e.abrupt("return");case 27:return console.log("plaintext encrypted"),d=new Uint8Array(d),(p=new Uint8Array(d.length+16)).set(new TextEncoder("utf-8").encode("Salted__")),p.set(o,8),p.set(d,16),(m=new Blob([p],{type:t.type})).name=t.name,e.next=37,Object(b.f)(n);case 37:return y=e.sent,v=y.substr(0,10),m.path="".concat(t.path,".encrypted-sailplane_").concat(v),m.lastModified=t.lastModified,m.lastModifiedDate=t.lastModifiedDate,e.abrupt("return",m);case 43:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,i,s,u,l,f,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t).catch((function(e){console.error(e)}));case 2:return r=e.sent,r=new Uint8Array(r),c=new TextEncoder("utf-8").encode(n),o=r.slice(8,16),e.next=8,window.crypto.subtle.importKey("raw",c,{name:"PBKDF2"},!1,["deriveBits"]).catch((function(e){console.error(e)}));case 8:return i=e.sent,console.log("passphrasekey imported"),e.next=12,window.crypto.subtle.deriveBits({name:"PBKDF2",salt:o,iterations:1e4,hash:"SHA-256"},i,384).catch((function(e){console.error(e)}));case 12:return s=e.sent,console.log("pbkdf2bytes derived"),s=new Uint8Array(s),u=s.slice(0,32),l=s.slice(32),r=r.slice(16),e.next=20,window.crypto.subtle.importKey("raw",u,{name:"AES-CBC",length:256},!1,["decrypt"]).catch((function(e){console.error(e)}));case 20:return f=e.sent,console.log("key imported"),e.next=24,window.crypto.subtle.decrypt({name:"AES-CBC",iv:l},f,r).catch((function(e){console.error(e)}));case 24:if(d=e.sent){e.next=27;break}return e.abrupt("return",!1);case 27:return console.log("ciphertext decrypted"),d=new Uint8Array(d),(p=new Blob([d],{type:"application/download"})).name=t.name,p.path=t.path,p.lastModified=t.lastModified,p.lastModifiedDate=t.lastModifiedDate,e.abrupt("return",p);case 35:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function F(e){var t=e.data,n=e.sharedFs,r=e.setCurrentDirectory,y=e.ipfs,x=e.fileIndex,C=e.isParent,F=t.path,S=t.type,I=F.split("/"),D=I[I.length-1],R=Object(p.a)(),T=Object(i.a)(R,2),A=T[0],N=T[1],B=Object(s.useState)(!1),P=Object(i.a)(B,2),_=P[0],z=P[1],M=Object(s.useState)(null),U=Object(i.a)(M,2),K=U[0],L=U[1],Y=Object(s.useState)(!1),H=Object(i.a)(Y,2),W=H[0],V=H[1],X=Object(s.useState)(null),G=Object(i.a)(X,2),J=G[0],Z=G[1],$=Object(s.useState)(!1),q=Object(i.a)($,2),Q=q[0],ee=q[1],te=I.slice(0,I.length-1).join("/"),ne=Object(b.b)(D),re=function(e){var t=Object(b.b)(e);return/encrypted-sailplane/.test(t)?{isEncrypted:!0,passHash:t.split("_")[1],decryptedFilename:e.substring(0,e.length-t.length-1)}:{}}(D),ae=re.isEncrypted,ce=re.decryptedFilename,oe=re.passHash,ie=Object(E.c)(),se=Object(O.a)(W,(function(e){return ye(e)}),(function(){return V(!1)}),D,{placeholder:""}),ue=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:if(e.sent){e.next=15;break}return ee(!1),e.next=7,ge();case 7:return n=e.sent,ie(Object(w.a)({message:"Decrypting file"})),e.next=11,k(n,t);case 11:n=e.sent,ie(Object(w.a)({})),n||(ie(Object(w.a)({message:"Error decrypting file: Incorrect password!",isError:!0})),setTimeout((function(){ie(Object(w.a)({}))}),3e3)),Object(h.saveAs)(n,ce);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.f)(t);case 2:if(n=e.sent,n.substr(0,10)===oe){e.next=6;break}return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=Object(O.a)(Q,(function(e){return ue(e)}),(function(){return ee(!1)}),"",{placeholder:"password",isPassword:!0,isError:le}),de={outer:{border:N||J?"1px solid ".concat(l.d):"1px solid #FFF",borderRadius:4,color:l.j,fontSize:14,padding:7,marginBottom:8,fontFamily:"Open Sans"},container:{display:"flex",flexDirection:"row",justifyContent:"space-between",cursor:"pointer"},nameContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},icon:{marginRight:4},tools:{display:"flex",justifyContent:"flex-end",width:"100%",opacity:(N||J||Q)&&!C?1:0,fontSize:14}},pe=d.d;"dir"===S&&(pe=f.d),ae&&(pe=d.g);var me=function(){var e=Object(c.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.current.read(F);case 2:return t=e.sent,e.next=5,Object(b.c)(t,y);case 5:r=e.sent,L(r),z(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){me()}),[F]);var be=pe,ye=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ie(Object(w.a)({message:"Renaming file"})),e.next=4,n.current.move(F,te,t);case 4:ie(Object(w.a)({})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error moving!",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function ve(e,t){return t.isDragging?t.isDropAnimating?Object(o.a)(Object(o.a)({},e),{},{transitionDuration:"0.001s"}):e:{}}function ge(){return he.apply(this,arguments)}function he(){return(he=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J){e.next=8;break}return ie(Object(w.a)({message:"Fetching download"})),e.next=4,Object(b.a)(_,F,y,(function(e,t){ie(Object(w.a)({message:"[".concat(Math.round(e/t*100),"%] Downloading")}))}));case 4:t=e.sent,ie(Object(w.a)({})),e.next=9;break;case 8:t=J;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(j.b,{draggableId:F,index:x},(function(e,t){var i=e.innerRef,s=e.draggableProps,f=e.dragHandleProps;return u.a.createElement("div",Object.assign({ref:i},s,f,{style:ve(s.style,t)}),function(e){return e||(e={}),u.a.createElement("div",{style:Object(o.a)(Object(o.a)({},de.outer),{},{backgroundColor:e.combineTargetFor&&"dir"===S?l.d:"#FFF"})},u.a.createElement("div",{style:de.container,ref:A,onClick:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!W){e.next=3;break}return e.abrupt("return");case 3:if("dir"!==S){e.next=7;break}r(F),e.next=17;break;case 7:if(J||!Object(b.e)(ne)){e.next=16;break}return ie(Object(w.a)({message:"Fetching preview"})),e.next=11,ge();case 11:n=e.sent,ie(Object(w.a)({})),Z(n),e.next=17;break;case 16:Z(null);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u.a.createElement("div",{style:de.nameContainer},u.a.createElement(be,{color:l.h,size:16,style:de.icon}),W?u.a.createElement(u.a.Fragment,null,se):C?". . /":ae?ce:D),u.a.createElement("div",{style:Object(o.a)(Object(o.a)({},de.nameContainer),{},{width:120})},"dir"!==S&&K?Object(b.d)(K.size):null),u.a.createElement("div",{style:de.tools},Q?u.a.createElement(u.a.Fragment,null,fe):u.a.createElement("div",null,u.a.createElement(g.b,{to:"/download/".concat(encodeURIComponent(_),"/").concat(encodeURIComponent(F)),target:"_blank"},u.a.createElement(m.a,{iconComponent:d.i,changeColor:l.c,tooltip:"Share",onClick:Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))})),u.a.createElement(m.a,{iconComponent:d.b,changeColor:l.c,tooltip:"Download",onClick:Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae){e.next=3;break}return ee(!0),e.abrupt("return");case 3:return e.next=5,ge();case 5:t=e.sent,Object(h.saveAs)(t,D);case 7:case"end":return e.stop()}}),e)})))}),u.a.createElement(m.a,{iconComponent:d.c,changeColor:l.c,tooltip:"Rename",onClick:Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(!0);case 1:case"end":return e.stop()}}),e)})))}),u.a.createElement(m.a,{iconComponent:d.j,tooltip:"Delete",onClick:Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(Object(w.a)({message:"Deleting ".concat("dir"===S?"folder":"file")})),e.next=3,n.current.remove(F);case 3:ie(Object(w.a)({}));case 4:case"end":return e.stop()}}),e)})))})))),J?u.a.createElement("div",{style:de.preview},u.a.createElement(v,{blob:J,filename:D})):null)}(t))}))}var S=n(71),I=n(554),D=n(543),R=n.n(D);function T(e,t){var n=e.children,r=e.sharedFs,o=e.currentDirectory,i={container:{cursor:"pointer",textAlign:"center",color:l.j,fontSize:16,fontWeight:200,fontFamily:"Open Sans",outline:0,userSelect:"none",height:"100%"}},f=Object(E.c)(),d=Object(E.d)((function(e){return e.main.encryptionKey})),p=Object(s.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c,i,s,u,l,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=26;break}n=[],c=0,i=Object(S.a)(t),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=17;break}return u=s.value,c++,f(Object(w.a)({message:"[".concat(c,"/").concat(t.length,"] Encrypting ").concat(u.path)})),e.next=12,C(u,d.key);case 12:l=e.sent,f(Object(w.a)({})),n.push(l);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:t=n;case 26:return f(Object(w.a)({message:"Uploading"})),p=R()(t),e.next=30,r.current.upload(o,p);case 30:f(Object(w.a)({}));case 31:case"end":return e.stop()}}),e,null,[[4,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),[o,d]),m=Object(I.a)({onDrop:p,noClick:!0}),b=m.getRootProps,y=m.getInputProps,v=m.isDragActive,g=m.open;return Object(s.useImperativeHandle)(t,(function(){return{openUpload:function(){g()}}})),u.a.createElement("div",Object.assign({},b(),{style:i.container}),u.a.createElement("input",y()),v?u.a.createElement("p",null,"Drop the files here..."):u.a.createElement("div",null,n))}T=Object(s.forwardRef)(T);var A=n(30),N=n(201);function B(e){var t=e.name,n=e.onClick,r=Object(p.a)(),a=Object(i.a)(r,2),c=a[0],o=a[1],s={container:{backgroundColor:o?l.h:"#FFF",color:o?"#FFF":l.h,padding:"6px 10px",display:"block",minWidth:7.5*t.length}};return u.a.createElement("div",{style:s.container,ref:c,onClick:n},t)}var P=n(70);function _(e){Object(N.a)(e);var t=Object(E.d)((function(e){return e.main})),n=Object(E.c)(),r=t.instances,a=t.instanceIndex,c=r[a],o=Object(s.useState)(!1),f=Object(i.a)(o,2),d=f[0],m=f[1],b=Object(p.a)(),y=Object(i.a)(b,2),v=y[0],g=(y[1],r.filter((function(e){return e!==c}))),h={container:{position:"relative",marginRight:6,backgroundColor:l.h,color:"#FFF",padding:"4px 6px",borderRadius:"4px 4px ".concat(d?0:4,"px ").concat(d?0:4,"px"),fontSize:14},menu:{backgroundColor:"#FFF",position:"absolute",top:26,left:0,border:"1px solid ".concat(l.h),color:l.h}};return u.a.createElement("span",{style:h.container,ref:v,onClick:function(){g.length&&m(!d)}},c.name,d?u.a.createElement("div",{style:h.menu},g.map((function(e,t){return u.a.createElement(B,{key:t,name:e.name,onClick:function(){var t=r.findIndex((function(t){return t===e}));n(Object(P.e)(t))}})}))):null)}var z={container:{display:"flex",flexDirection:"row",alignItems:"center",fontSize:16,marginBottom:10,color:l.h,fontFamily:"Open Sans",fontWeight:600,userSelect:"none"},icon:{marginRight:4},root:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",fontWeight:400},folderIcon:{marginLeft:4,marginRight:4},folderName:{fontWeight:400,cursor:"pointer",marginLeft:2,marginRight:2}};function M(e){var t=e.currentDirectory,n=e.setCurrentDirectory,r=t.split("/").slice(2);return u.a.createElement("div",{style:z.container},u.a.createElement("div",{onClick:function(){return n("/r")},style:z.root},u.a.createElement(f.a,{color:l.h,size:16,style:z.icon}),u.a.createElement(_,null)," /"),r.map((function(e,t){for(var a="/r",c=0;c<=t;c++)a+="/".concat(r[c]);return u.a.createElement("span",{key:e},u.a.createElement("span",{style:z.folderName,className:"folderName",onClick:function(){n(a)}},e),"/")})))}_.propTypes={currentInstance:A.any};var U={tools:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",fontFamily:"Open Sans"},rightTools:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}};function K(e){var t=e.currentDirectory,n=e.sharedFs,r=e.setCurrentDirectory,o=e.handleOpenUpload,f=Object(s.useState)(!1),p=Object(i.a)(f,2),b=p[0],y=p[1],v=Object(s.useState)(!1),g=Object(i.a)(v,2),h=g[0],j=g[1],w=Object(E.c)(),x=Object(E.d)((function(e){return e.main.encryptionKey})),C=function(){var e=Object(c.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.current.mkdir(t,r);case 3:y(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Mkdir error",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),k=Object(O.a)(b,(function(e){return C(e)}),(function(){return y(!1)}),"",{placeholder:"new folder"}),F=Object(O.a)(h,(function(e){return function(e){w(Object(P.d)(e,"string")),j(!1)}(e)}),(function(){return j(!1)}),"",{placeholder:"secure password",isPassword:!0});return u.a.createElement("div",null,u.a.createElement("div",{style:U.tools},u.a.createElement("div",{style:U.leftTools},u.a.createElement(M,{currentDirectory:t,setCurrentDirectory:r})),u.a.createElement("div",{style:U.rightTools},b||h?null:u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{iconComponent:d.l,size:18,changeColor:l.c,onClick:function(){o()}}),u.a.createElement(m.a,{iconComponent:x?d.g:d.k,size:18,defaultColor:x?l.b:null,changeColor:x?l.a:l.b,onClick:function(){x?w(Object(P.b)()):j(!0)}}),u.a.createElement(m.a,{iconComponent:d.e,size:18,changeColor:l.c,onClick:function(){return y(!0)}})),b?u.a.createElement(u.a.Fragment,null,k):null,h?u.a.createElement(u.a.Fragment,null,F):null)))}var L=n(202),Y={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",fontFamily:"Open Sans"},fileHeader:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(l.d),paddingBottom:10,marginBottom:4},fileHeaderItem:{width:"100%",color:l.f,fontSize:12,letterSpacing:1.08,textAlign:"left"},files:{backgroundColor:"#FFF"},dropContainer:{display:"flex",flexDirection:"column",alignItems:"stretch",flexGrow:2,opacity:1}};function H(e){var t=e.sharedFs,n=e.ipfs,r=e.directoryContents,i=e.setCurrentDirectory,l=e.currentDirectory,f=Object(s.useRef)(null),d=r.sort((function(e,t){return e.name<t.name?-1:1})),p=d.filter((function(e){return"dir"===e.type})),m=d.filter((function(e){return"dir"!==e.type})),b=p.concat(m),y=l.split("/"),v=y.slice(0,y.length-1).join("/");return u.a.createElement("div",{style:Y.container},u.a.createElement(K,{currentDirectory:l,sharedFs:t,setCurrentDirectory:i,handleOpenUpload:function(){f.current.openUpload()}}),u.a.createElement("div",{style:Y.fileHeader},u.a.createElement("div",{style:Object(o.a)({},Y.fileHeaderItem)},"Name"),u.a.createElement("div",{style:Object(o.a)(Object(o.a)({},Y.fileHeaderItem),{},{width:120})},"Size"),u.a.createElement("div",{style:Y.fileHeaderItem})),u.a.createElement("div",{style:Y.dropContainer},u.a.createElement(T,{sharedFs:t,currentDirectory:l,ref:f},u.a.createElement(j.a,{onDragEnd:function(){var e=Object(c.a)(a.a.mark((function e(n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.combine){e.next=5;break}return r=n.draggableId.split("/"),c=r[r.length-1],e.next=5,t.current.move(n.draggableId,n.combine.draggableId,c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u.a.createElement(j.c,{droppableId:"droppable-1",type:"fileblock",isCombineEnabled:!0},(function(e,a){return u.a.createElement("div",{style:Y.filesContainer},"/r"!==l?u.a.createElement(F,{fileIndex:0,isParent:!0,key:v,data:{path:v,type:"dir"},sharedFs:t,ipfs:n,setCurrentDirectory:i}):null,u.a.createElement("div",Object.assign({ref:e.innerRef,style:{}},e.droppableProps),r.length?u.a.createElement("div",{style:Y.files},b.map((function(e,r){return u.a.createElement(F,{fileIndex:r+1,key:e.path,data:e,sharedFs:t,ipfs:n,setCurrentDirectory:i})}))):u.a.createElement("p",null,"drag files to upload"),u.a.createElement("span",{style:{display:"none"}},e.placeholder)))}))))),u.a.createElement(L.a,null))}},555:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(1),a=n.n(r),c=n(11),o=n(20),i=n(2),s=n.n(i),u=n(18),l=n(69),f=n(60),d=n(45);function p(e){var t=e.data,n=e.selected,r=e.onClick,a=e.onDelete,c=Object(l.a)(),i=Object(o.a)(c,2),p=i[0],m=i[1],b=t.name,y=t.address,v=n?u.e:u.d,g={outer:{padding:8,backgroundColor:v,border:"1px solid ".concat(m?u.e:v),color:n?"#FFF":u.h,borderRadius:4,marginBottom:4,fontFamily:"Open Sans",cursor:"pointer"},container:{display:"flex",justifyContent:"space-between",alignItems:"center"},address:{marginLeft:10,fontSize:14,overflow:"hidden"},tools:{display:"flex",justifyContent:"flex-end",marginTop:10},name:{fontSize:20}};return s.a.createElement("div",{style:g.outer,ref:p,onClick:function(e){e.stopPropagation(),r()}},s.a.createElement("div",{style:g.container},s.a.createElement("div",{style:g.name},b),s.a.createElement("div",{style:g.address},y)),s.a.createElement("div",{style:g.tools},s.a.createElement(f.a,{defaultColor:n?u.d:u.h,iconComponent:d.j,size:16,changeColor:u.a,onClick:function(){return a()}})))}var m=n(85),b=n(33),y=n(70),v={container:{padding:10,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",fontFamily:"Open Sans"},title:{color:u.g,fontSize:20,fontWeight:600,marginBottom:16},header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline",marginTop:10},icon:{cursor:"pointer",marginRight:4},tools:{display:"flex",justifyContent:"flex-end",alignItems:"center",color:u.g,fontSize:14}};function g(e){var t=e.sailplane,n=Object(i.useState)(!1),r=Object(o.a)(n,2),l=r[0],f=r[1],g=Object(i.useState)(!1),h=Object(o.a)(g,2),j=h[0],O=h[1],E=Object(b.c)(),w=Object(b.d)((function(e){return e.main})),x=w.instances,C=w.instanceIndex,k=function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.determineAddress("superdrive",{meta:{name:n}});case 2:r=e.sent,E(Object(y.a)(n,r.toString())),f(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(Object(y.a)("Imported #"+(x.length+1),t)),O(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(m.a)(l,(function(e){return k(e)}),(function(){return f(!1)}),"",{placeholder:"instance name"}),I=Object(m.a)(j,(function(e){return F(e)}),(function(){return O(!1)}),"",{placeholder:"instance address"});return s.a.createElement("div",{style:v.container},s.a.createElement("div",{style:v.header},s.a.createElement("div",{style:v.title},"Instances"),s.a.createElement("div",{style:v.tools},j||l?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:v.tools,className:"addInstance",onClick:function(){return f(!0)}},s.a.createElement(d.h,{color:u.g,size:18,style:v.icon}),s.a.createElement("span",{style:{marginRight:6}},"Create instance")),s.a.createElement("div",{style:v.tools,className:"addInstance",onClick:function(){return O(!0)}},s.a.createElement(d.l,{color:u.g,size:18,style:v.icon}),s.a.createElement("span",{style:v.toolTitle},"Import instance"))),j?I:null,l?S:null)),s.a.createElement("div",null,x.map((function(e,t){return s.a.createElement(p,{key:e.name,data:e,selected:e===x[C],onClick:function(){E(Object(y.e)(t))},onDelete:function(){E(Object(y.c)(t))}})}))))}},556:function(e,t,n){e.exports=n(1388)},561:function(e,t,n){},576:function(e,t){},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(20),a=n(2),c=n.n(a),o=n(18),i=n(69),s=n(538);function u(e){var t=e.iconComponent,n=e.onClick,a=e.size,u=e.changeColor,l=e.tooltip,f=e.title,d=e.defaultColor,p=Object(i.a)(),m=Object(r.a)(p,2),b=m[0],y=m[1],v=Object(s.a)(),g=Object(r.a)(v,2),h=g[0],j=g[1],O=t,E=j.width?j.width:0;d||(d=o.g),u||(u=o.a);var w={container:{position:"relative",display:"inline-block",cursor:"pointer",padding:4,fontSize:14},popover:{position:"absolute",top:-30,backgroundColor:o.e,color:"#FFF",padding:"4px 6px",borderRadius:2,left:-E/2+8,fontSize:14,fontWeight:400,zIndex:1e3},title:{textDecoration:y?"underline":"none",fontSize:13,color:o.c}};return c.a.createElement("div",{style:w.container,ref:b,onClick:function(e){e.stopPropagation(),n()}},t?c.a.createElement(O,{color:y?u:d,size:a||16,style:w.icon}):null,f?c.a.createElement("span",{style:w.title},f):null,y&&l?c.a.createElement("div",{style:w.popover,ref:h},l):null)}},61:function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return k}));var r=n(1),a=n.n(r),c=n(11),o=n(539),i=n(112),s=n.n(i),u=n(307),l=n.n(u),f=n(540),d=n.n(f);function p(e,t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t,n){var r,c,i,s,u,l,f,d,p,m,b,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.content,c=t.size,i=[],s=0,u=Math.round(c/25e4),l=!0,f=!1,e.prev=6,p=Object(o.a)(r);case 8:return e.next=10,p.next();case 10:return m=e.sent,l=m.done,e.next=14,m.value;case 14:if(b=e.sent,l){e.next=23;break}y=b,n&&n(s,u),i.push(y),s++;case 20:l=!0,e.next=8;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(6),f=!0,d=e.t0;case 29:if(e.prev=29,e.prev=30,l||null==p.return){e.next=34;break}return e.next=34,p.return();case 34:if(e.prev=34,!f){e.next=37;break}throw d;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",new Blob(i));case 40:case"end":return e.stop()}}),e,null,[[6,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function b(e,t,n){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(a.a.mark((function e(t,n,r){var o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new d.a,i=t.split("/")[t.split("/").length-1],e.next=4,Promise.all(n.map(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="dir"===t.type,(c=t.path.split("/"))[0]=i,s=c.join("/"),!n){e.next=8;break}e.t0=void 0,e.next=11;break;case 8:return e.next=10,p(t,r);case 10:e.t0=e.sent;case 11:u=e.t0,o.file(s,u,{dir:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,o.generateAsync({type:"blob"});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()(n.get(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(a.a.mark((function e(t,n,r,c){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()(r.get(t));case 2:return o=e.sent,e.abrupt("return","dir"===o[0].type?b(n,o,c):p(o[0],c));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t=e.split(".");return t[t.length-1]}var E=["jpg","png","gif","mp3","ogg","flac","jpeg"];function w(e){return E.includes(e.toLowerCase())}function x(e){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.digest("SHA-256",new TextEncoder("utf-8").encode(t));case 2:return n=e.sent,e.abrupt("return",Array.prototype.map.call(new Uint8Array(n),(function(e){return("00"+e.toString(16)).slice(-2)})).join(""));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],c=-1,o=Math.pow(10,n);do{e/=r,++c}while(Math.round(Math.abs(e)*o)/o>=r&&c<a.length-1);return e.toFixed(n)+" "+a[c]}},641:function(e,t){},642:function(e,t){},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(20),a=n(2);function c(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useRef)(null),i=function(){return c(!0)},s=function(){return c(!1)};return Object(a.useEffect)((function(){var e=o.current;if(e)return e.addEventListener("mouseover",i),e.addEventListener("mouseout",s),function(){e.removeEventListener("mouseover",i),e.removeEventListener("mouseout",s)}}),[o.current]),[o,n]}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s}));var r=n(55);function a(e,t){return{type:r.a.ADD_INSTANCE,name:e,address:t}}function c(e,t){return{type:r.a.SET_ENCRYPTION_KEY,key:e,keyType:t}}function o(){return{type:r.a.CLEAR_ENCRYPTION_KEY}}function i(e){return{type:r.a.SET_INSTANCE_INDEX,index:e}}function s(e){return{type:r.a.REMOVE_INSTANCE,index:e}}},772:function(e,t){},828:function(e,t){},836:function(e,t){},838:function(e,t){},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),a=n.n(r),c=n(11),o=n(20),i=n(2),s=n.n(i),u=n(60),l=n(18);function f(e,t,n,r,f){var d=f.placeholder,p=f.isPassword,m=f.isError,b=Object(i.useState)(r),y=Object(o.a)(b,2),v=y[0],g=y[1],h=Object(i.useState)(!1),j=Object(o.a)(h,2),O=j[0],E=j[1],w=Object(i.useRef)(null),x=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(v);case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){m&&x()}),[v]);var C={input:{border:"1px solid ".concat(O?l.a:m?l.b:l.e),borderRadius:4,color:l.c,fontSize:14,fontWeight:200,padding:4,marginRight:4}};return Object(i.useEffect)((function(){e?(w.current.focus(),w.current.select()):g(r)}),[e]),s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{ref:w,type:p?"password":"text",placeholder:d,style:C.input,value:v,onChange:function(e){return g(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(v)}}),s.a.createElement(u.a,{title:"Accept",onClick:function(){return t(v)}}),s.a.createElement(u.a,{title:"Cancel",onClick:function(){return n()}}))}},924:function(e,t){},988:function(e,t){}},[[556,1,2]]]);
//# sourceMappingURL=main.0deab221.chunk.js.map