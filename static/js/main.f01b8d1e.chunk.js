(this["webpackJsonpsailplane-web"]=this["webpackJsonpsailplane-web"]||[]).push([[0],{1013:function(e,t){},102:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(2),a=n.n(r),c=(n(149),n(8)),i=n(30),o="admin",l="write";function s(e){return e.identity.id}function u(e){try{return 33===i.Buffer.from(e,"hex").length}catch(t){return!1}}function d(e){return e.access.get(l)}function f(e){return e.access.get(o)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.access.grant(l,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1077:function(e,t){},1105:function(e,t){},1107:function(e,t){},1134:function(e,t){},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function a(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}},1290:function(e,t){},1292:function(e,t){},1320:function(e,t){},1372:function(e,t){},145:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(11),a=n(1);function c(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(a.useState)(t),c=Object(r.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){o(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),i}},1451:function(e,t,n){},1457:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(100),i=n.n(c),o=(n(602),n(588)),l=n(47),s=n(333),u=n(339);function d(){return a.a.createElement(o.a,null,a.a.createElement(l.a,{exact:!0,path:"/",component:s.a}),a.a.createElement(l.a,{exact:!0,path:"/importInstance/:importInstanceAddress",component:s.a}),a.a.createElement(l.a,{exact:!0,path:"/download/:cid/:path",component:u.a}),a.a.createElement(l.a,{exact:!0,path:"/download/:cid/:path/:displayType",component:u.a}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=n(33),p=n(589),m=n(54),b=n(342),g=n(590),v=n.n(g),O=n(591),y=n.n(O),j=n(52),E=n(91),h={instances:[],instanceIndex:0,encryptionKey:null,newUser:!0};var x=n(15),w={status:{},shareData:{}};var C=Object(m.c)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a.ADD_INSTANCE:var n=t.name,r=t.address,a=t.isImported;return Object(E.a)(e,(function(e){e.instances.push({name:n,address:r,isImported:a})}));case j.a.SET_INSTANCE_INDEX:var c=t.index;return Object(E.a)(e,(function(e){e.instanceIndex=Math.max(0,c)}));case j.a.SET_ENCRYPTION_KEY:var i=t.key,o=t.keyType;return Object(E.a)(e,(function(e){e.encryptionKey={key:i,type:o}}));case j.a.CLEAR_ENCRYPTION_KEY:t.key,t.keyType;return Object(E.a)(e,(function(e){e.encryptionKey=null}));case j.a.REMOVE_INSTANCE:var l=t.index;return Object(E.a)(e,(function(t){t.instances=e.instances.filter((function(e,t){return l!==t})),t.instances[t.instanceIndex]||(console.log("inner ran"),t.instanceIndex=0)}));case j.a.SET_NEW_USER:var s=t.bool;return Object(E.a)(e,(function(e){e.newUser=s}))}return e},tempData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.b.SET_STATUS:return Object(x.a)(Object(x.a)({},e),{},{status:t.status});case j.b.SET_SHARE_DATA:return Object(x.a)(Object(x.a)({},e),{},{shareData:t.shareData})}return e}}),A=n(592),k={key:"root",storage:v.a,blacklist:["tempData"],stateReconciler:y.a},S=Object(b.a)(k,C),I=[],B=Object(A.createLogger)();I.push(B);var D=function(e){var t=Object(m.d)(m.a.apply(void 0,I))(m.e)(S);return{store:t,persistor:Object(b.b)(t)}}(),F=D.store,z=D.persistor;i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f.a,{store:F},a.a.createElement(p.a,{loading:null,persistor:z},a.a.createElement(d,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n.n(r),c=n(7),i=n(26),o=n(33);function l(){var e=Object(o.d)((function(e){return e.tempData.status})),t=e.message,n=e.isError,r=e.isInfo,l={container:{position:"fixed",bottom:10,backgroundColor:n?c.b:c.g,padding:8,borderRadius:4,fontFamily:"Open Sans",color:"#FFF",fontSize:14,lineHeight:14,display:"flex",alignItems:"center",height:18,opacity:t?1:0},icon:{marginRight:4}},s=i.j;n&&(s=i.a);var u=s;return a.a.createElement("div",{style:l.container},r?null:a.a.createElement(u,{color:"#FFF",size:16,style:l.icon,className:n?"":"rotating"}),a.a.createElement("span",{style:l.message},t))}},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(15),a=n(2),c=n.n(a),i=n(8),o=n(11),l=n(1),s=n.n(l),u=n(7),d=n(26),f=n(51),p=n(82),m=n(48),b=n(218),g=n(22),v=n(219),O=n(73),y=n(33),j=n(24),E=n(74);var h=n(50),x=n(90),w=n(580),C=n.n(w),A=n(217);function k(e){var t=e.iconComponent,n=e.title,r=e.onClick,a=e.forceColor,c={container:{display:"flex",justifyContent:"center",alignItems:"center",height:80,marginTop:10,marginBottom:10},inner:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",border:"1px solid ".concat(a||u.g),borderRadius:4},title:{fontSize:18,color:a||u.j,marginTop:4}},i=t;return s.a.createElement("div",{style:c.container},s.a.createElement("div",{style:c.inner,onClick:r},s.a.createElement(i,{color:a||u.g,size:24,style:c.icon}),s.a.createElement("div",{style:c.title},n)))}function S(e){var t=e.name,n=e.isVisible,r=e.fileIcon,a=e.items,c=e.onClose;if(!n)return null;var i={container:{padding:"0 8px 0 8px"},name:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,marginTop:8,padding:6,backgroundColor:u.e,margin:8},icon:{height:20,width:20,marginRight:4},nameText:{fontSize:16,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},o=r;return s.a.createElement(A.a,{onClose:c},s.a.createElement("div",{style:i.name},s.a.createElement(o,{color:u.g,size:20,style:i.icon}),s.a.createElement("span",{style:i.nameText},t)),s.a.createElement("div",{style:i.container},a.map((function(e){return s.a.createElement(k,{iconComponent:e.iconComponent,title:e.title,onClick:e.onClick,forceColor:e.forceColor})}))))}function I(e){var t=e.data,n=e.sharedFs,a=e.setCurrentDirectory,w=e.ipfs,A=e.isParent,k=e.snapshot,I=e.forceIcon,B=e.onIconClicked,D=e.readOnly,F=t.path,z=t.type,T=F.split("/"),R=T[T.length-1],H=Object(p.a)(),M=Object(o.a)(H,2),Q=M[0],N=M[1],P=Object(l.useState)(null),Y=Object(o.a)(P,2),L=Y[0],W=Y[1],G=Object(l.useState)(null),J=Object(o.a)(G,2),K=J[0],U=J[1],Z=Object(l.useState)(!1),X=Object(o.a)(Z,2),V=X[0],q=X[1],_=Object(l.useState)(!1),$=Object(o.a)(_,2),ee=$[0],te=$[1],ne=Object(l.useState)(null),re=Object(o.a)(ne,2),ae=re[0],ce=re[1],ie=Object(l.useState)(!1),oe=Object(o.a)(ie,2),le=oe[0],se=oe[1],ue=function(e){var t=s.a.useState(null),n=Object(o.a)(t,2),r=n[0],a=n[1],c=s.a.useRef(0),i=s.a.useRef(null),l=s.a.useRef(null),u=s.a.useCallback((function(e){a(e),u.current=e}),[]);return s.a.useEffect((function(){l.current=e})),s.a.useEffect((function(){function e(){var e=c.current+1===2,t=i.current;t&&e&&(clearTimeout(i.current),i.current=null,c.current=0,l.current&&l.current()),t||(c.current=c.current+1,i.current=setTimeout((function(){clearTimeout(i.current),i.current=null,c.current=0}),200))}return r&&r.addEventListener("click",e),function(){r&&r.removeEventListener("click",e)}}),[r]),[u,r]}((function(){return q(!0)})),de=Object(o.a)(ue,1)[0],fe=T.slice(0,T.length-1).join("/"),pe=Object(g.f)(R),me=Object(h.a)(),be=n&&n.current.fs.exists(F),ge=C()(),ve={paddingContainer:{paddingTop:3,paddingBottom:3},outer:{borderRadius:4,color:u.l,fontSize:14,padding:7,marginBottom:8,fontFamily:"Open Sans",userSelect:"none"},container:{display:"flex",flexDirection:"row",flexWrap:me?"wrap":"nowrap",justifyContent:"space-between",cursor:"pointer"},flexItem:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexGrow:2,marginBottom:me?10:0},icon:{marginRight:4,width:30,flexShrink:0},tools:{display:ge?"none":"flex",justifyContent:"flex-end",width:"100%",opacity:(N||ae||le)&&!A?1:0,pointerEvents:(N||ae||le)&&!A?null:"none",fontSize:14,marginLeft:le?8:0},filename:{textAlign:"left",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},Oe=Object(E.d)(R),ye=Oe.isEncrypted,je=Oe.decryptedFilename,Ee=Oe.passHash,he=Object(y.c)(),xe=Object(O.a)(V,(function(e){return Be(e)}),(function(){return q(!1)}),R,{placeholder:""}),we=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(t);case 2:if(e.sent){e.next=14;break}return se(!1),e.next=7,De();case 7:return n=e.sent,he(Object(j.b)({message:"Decrypting file"})),e.next=11,Object(E.a)(n,t);case 11:n=e.sent,he(Object(j.b)({})),ze(n,je);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.b)(t,Ee);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=Object(O.a)(le,(function(e){return we(e)}),(function(){return se(!1)}),"",{placeholder:"password",isPassword:!0,isError:Ce}),ke=I||Object(g.j)(z,ye,R),Se=function(){var e=Object(i.a)(c.a.mark((function e(){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.cid){e.next=4;break}r=t.cid,e.next=8;break;case 4:if(!be){e.next=8;break}return e.next=7,n.current.read(F);case 7:r=e.sent;case 8:return e.next=10,Object(g.g)(r,w);case 10:return a=e.sent,U(a),W(r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){be&&"dir"!==z&&Se()}),[F]);var Ie=ke,Be=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(Object(j.b)({message:"Renaming file"})),e.next=4,n.current.move(F,fe,t);case 4:he(Object(j.b)({})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error moving!",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function De(){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae){e.next=13;break}if(he(Object(j.b)({message:"Fetching download"})),n=L,L){e.next=7;break}return e.next=6,Se();case 6:n=e.sent;case 7:return e.next=9,Object(g.d)(n,F,w,(function(e,t){he(Object(j.b)({message:"[".concat(Object(g.k)(e,t),"%] Downloading")}))}));case 9:t=e.sent,he(Object(j.b)({})),e.next=14;break;case 13:t=ae;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ze=function(e,t){"dir"===z&&(t="".concat(t,".zip")),Object(v.saveAs)(e,t)},Te=function(){te(!1),he(Object(j.a)({name:R,CID:L,path:F,pathType:z}))},Re=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(!1),!ye){e.next=4;break}return se(!0),e.abrupt("return");case 4:return e.next=6,De();case 6:t=e.sent,ze(t,R);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(!1),q(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!1),he(Object(j.b)({message:"Deleting ".concat("dir"===z?"folder":"file")})),e.next=4,n.current.remove(F);case 4:he(Object(j.b)({}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae||!Object(g.o)(pe)){e.next=9;break}return he(Object(j.b)({message:"Fetching preview"})),e.next=4,De();case 4:t=e.sent,he(Object(j.b)({})),ce(t),e.next=10;break;case 9:ce(null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!ge){e.next=4;break}return te(!0),e.abrupt("return");case 4:if(!B){e.next=7;break}return B(),e.abrupt("return");case 7:if(!V){e.next=9;break}return e.abrupt("return");case 9:if("dir"!==z){e.next=13;break}a(F),e.next=15;break;case 13:return e.next=15,Qe();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=[{title:"Share",onClick:Te,iconComponent:d.p},{title:"Download",onClick:Re,iconComponent:d.d},{title:"Rename",onClick:He,iconComponent:d.e},{title:"Delete",onClick:Me,iconComponent:d.q,forceColor:u.b}];"dir"===z?Pe.unshift({title:"Open folder",onClick:function(){return a(F)},iconComponent:f.f}):(!ae&&Object(g.o)(pe)||B)&&Pe.unshift({title:"Open preview",onClick:function(){te(!1),B?B():Qe()},iconComponent:ke});return s.a.createElement(s.a.Fragment,null,(k||(k={}),s.a.createElement("div",{ref:Q,style:ve.paddingContainer,className:"fileItem ".concat(ye?"fileItemEncrypted":null)},s.a.createElement(S,{isVisible:ee,name:R,fileIcon:ke,onClose:function(){return te(!1)},items:Pe}),s.a.createElement("div",{onContextMenu:function(e){e.preventDefault(),x.contextMenu.show({event:e,id:"menu-id",props:{handleDelete:Me,handleDownload:Re,handleShare:Te,handleEdit:He}})},style:Object(r.a)(Object(r.a)({},ve.outer),{},{backgroundColor:(N||ae||k.isDragging||k.combineTargetFor&&"dir"===z)&&!ge?u.e:"#FFF"})},s.a.createElement("div",{style:ve.container,onClick:Ne},s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},ve.flexItem),{},{maxWidth:me?null:"25%"})},s.a.createElement(Ie,{color:u.j,size:16,style:ve.icon}),V?s.a.createElement(s.a.Fragment,null,xe):A?". . /":s.a.createElement("span",{ref:de,style:ve.filename},je)),s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},ve.flexItem),{},{justifyContent:"flex-end"})},"dir"!==z&&K?Object(g.m)(K.size):null),s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},ve.flexItem),{},{justifyContent:"flex-end"})},"dir"!==z&&(null===K||void 0===K?void 0:K.mtime)?Object(g.h)(K.mtime.secs):null),s.a.createElement("div",{style:ve.tools},le?s.a.createElement(s.a.Fragment,null,Ae):s.a.createElement("div",null,s.a.createElement(m.a,{id:"Share-".concat(z),iconComponent:d.p,changeColor:u.d,tooltip:"Share",onClick:Te}),s.a.createElement(m.a,{id:"Download-".concat(z),iconComponent:d.d,changeColor:u.d,tooltip:"Download",onClick:Re}),D?null:s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{id:"Rename-".concat(z),iconComponent:d.e,changeColor:u.d,tooltip:"Rename",onClick:He}),s.a.createElement(m.a,{id:"Delete-".concat(z),iconComponent:d.q,tooltip:"Delete",onClick:Me}))))),ae?s.a.createElement("div",{style:ve.preview},s.a.createElement(b.a,{blob:ae,filename:R})):null))))}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=n.n(r),c=n(7),i=n(22),o=n(121),l={container:{padding:10,backgroundColor:"#FFF",textAlign:"center",width:"100%",paddingTop:100,fontSize:20,fontFamily:"MuseoModerno",fontWeight:"300",color:c.i,boxSizing:"border-box",height:"100%"},icon:{marginRight:4}};function s(e){var t=e.ipfsError,n=e.message;n||(n="Loading...");var r=!1===e.loading?null:a.a.createElement(o.FiLoader,{color:c.i,size:16,style:l.icon,className:"rotating"}),s=Object(i.r)()?"Sailplane failed to start network. Try refreshing.":"This browser does not support WebRTC, iOS users please try Safari.";return a.a.createElement("div",{style:l.container},Object(i.r)()&&!t?a.a.createElement("div",null,r,n):a.a.createElement("div",null,s))}},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(11),a=n(1),c=n.n(a),i=n(7),o=n(82);function l(e){var t=e.name,n=e.onClick,a=Object(o.a)(),l=Object(r.a)(a,2),s=l[0],u=l[1],d={container:{backgroundColor:u?i.j:"#FFF",color:u?"#FFF":i.j,padding:"6px 10px",display:"block",minWidth:7.5*t.length,zIndex:200}};return c.a.createElement("div",{className:"smallInstanceItem",style:d.container,ref:s,onClick:n},t)}},216:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n.n(r),c=n(7),i=n(51),o=n(217);function l(e){var t=e.isVisible,n=e.body,r=e.onClose,l=e.title,s=e.noPadding;if(!t)return null;var u={header:{backgroundColor:c.j,color:"#FFF",padding:8,fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},body:{padding:s?0:14},xIcon:{cursor:"pointer"}};return a.a.createElement(o.a,{onClose:r},a.a.createElement("div",{style:u.container},a.a.createElement("div",{style:u.header},a.a.createElement("div",null,l),a.a.createElement(i.h,{color:"#FFF",size:16,style:u.xIcon,onClick:r})),a.a.createElement("div",{style:u.body},n)))}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r),c=n(7),i=n(50);function o(e){var t=e.onClose,n=e.children,r=Object(i.a)(),o={container:{position:r?"fixed":"absolute",backgroundColor:"#FFF",border:"1px solid ".concat(c.j),borderRadius:4,top:r?60:150,left:"50%",transform:"translateX(-50%)",width:"94%",fontFamily:"Open Sans",zIndex:1e4,boxShadow:"0 0px 14px hsla(0, 0%, 0%, 0.2)"},background:{position:"fixed",width:"100%",height:"100%",top:0,left:0,backgroundColor:"#00000033"}};return a.a.createElement("div",{style:o.outer},a.a.createElement("div",{style:o.background,onClick:t}),a.a.createElement("div",{style:o.container},n))}},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n.n(r),c=n(22),i=a.a.memo((function(e){var t=e.blob,n=e.filename,r=e.size;r||(r="small");var i={container:{marginTop:10},image:{width:"small"===r?300:"100%"},audio:{userSelect:"none",outline:0}},o=Object(c.f)(n),l=window.URL.createObjectURL(t);return a.a.createElement("div",{onClick:function(e){return e.stopPropagation()},style:i.container},Object(c.p)(o)?a.a.createElement("div",null,a.a.createElement("img",{src:l,style:i.image})):null,Object(c.o)(o)?a.a.createElement("div",null,a.a.createElement("audio",{controls:!0},a.a.createElement("source",{src:l,style:i.audio}))):null)}))},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"g",(function(){return h})),n.d(t,"i",(function(){return w})),n.d(t,"n",(function(){return A})),n.d(t,"d",(function(){return k})),n.d(t,"f",(function(){return I})),n.d(t,"q",(function(){return D})),n.d(t,"s",(function(){return F})),n.d(t,"m",(function(){return T})),n.d(t,"e",(function(){return R})),n.d(t,"j",(function(){return H})),n.d(t,"h",(function(){return M})),n.d(t,"a",(function(){return Q})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return P})),n.d(t,"l",(function(){return Y})),n.d(t,"k",(function(){return L})),n.d(t,"r",(function(){return W})),n.d(t,"t",(function(){return G})),n.d(t,"c",(function(){return J}));var r=n(2),a=n.n(r),c=n(15),i=n(8),o=n(577),l=n(81),s=n.n(l),u=n(331),d=n.n(u),f=n(578),p=n.n(f),m=n(26),b=n(51),g=n(336),v=n.n(g);n(347);function O(e,t){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(a.a.mark((function e(t,n){var r,c,i,l,s,u,d,f,p,m,b,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.content,c=t.size,i=[],l=0,s=Math.round(c/25e4),u=!0,d=!1,e.prev=6,p=Object(o.a)(r);case 8:return e.next=10,p.next();case 10:return m=e.sent,u=m.done,e.next=14,m.value;case 14:if(b=e.sent,u){e.next=23;break}g=b,n&&n(l,s),i.push(g),l++;case 20:u=!0,e.next=8;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(6),d=!0,f=e.t0;case 29:if(e.prev=29,e.prev=30,u||null==p.return){e.next=34;break}return e.next=34,p.return();case 34:if(e.prev=34,!d){e.next=37;break}throw f;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",new Blob(i));case 40:case"end":return e.stop()}}),e,null,[[6,25,29,39],[30,,34,38]])})))).apply(this,arguments)}function j(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(a.a.mark((function e(t,n,r){var c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new p.a,o=t.split("/")[t.split("/").length-1],e.next=4,Promise.all(n.map(function(){var e=Object(i.a)(a.a.mark((function e(t){var n,i,l,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="dir"===t.type,(i=t.path.split("/"))[0]=o,l=i.join("/"),!n){e.next=8;break}e.t0=void 0,e.next=11;break;case 8:return e.next=10,O(t,r);case 10:e.t0=e.sent;case 11:s=e.t0,c.file(l,s,{dir:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,c.generateAsync({type:"blob"});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(n.get(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()(t.get(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);function k(e,t,n,r){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(a.a.mark((function e(t,n,r,c){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()(r.get(t));case 2:return i=e.sent,e.abrupt("return","dir"===i[0].type?j(n,i,c):O(i[0],c));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=e.split(".");return t[t.length-1]}var B=["jpg","png","gif","mp3","wav","ogg","flac","jpeg"];function D(e){return B.includes(e.toLowerCase())}function F(e){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.digest("SHA-256",new TextEncoder("utf-8").encode(t));case 2:return n=e.sent,e.abrupt("return",Array.prototype.map.call(new Uint8Array(n),(function(e){return("00"+e.toString(16)).slice(-2)})).join(""));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],c=-1,i=Math.pow(10,n);do{e/=r,++c}while(Math.round(Math.abs(e)*i)/i>=r&&c<a.length-1);return e.toFixed(n)+" "+a[c]}function R(e,t){return t.isDragging?t.isDropAnimating?Object(c.a)(Object(c.a)({},e),{},{transitionDuration:"0.001s"}):e:{}}function H(e,t,n){var r=I(n),a=m.f;return P(r)?a=m.i:N(r)?a=m.l:!function(e){return["mp4","mov","flv","mpg","mpeg","avi"].includes(e.toLowerCase())}(r)?function(e){return["zip","tar","gz","rar","7z"].includes(e.toLowerCase())}(r)&&(a=m.b):a=m.v,"dir"===e&&(a=b.e),t&&(a=m.k),a}var M=function(e){var t=v.a.unix(e);return t.isBefore(v()().subtract(1,"day"))?t.format("MM/DD/YYYY"):t.format("h:mm a")},Q=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function N(e){return["mp3","wav","ogg","flac"].includes(e.toLowerCase())}function P(e){return["jpg","jpeg","png","gif"].includes(e.toLowerCase())}function Y(e){var t=0,n=0;e.forEach((function(e){var r=e.path.split("/"),a=I(r[r.length-1]);N(a)&&t++,P(a)&&n++}));var r=L(t,e.length),a=L(n,e.length);return r>60?"audio":a>60?"image":"default"}function L(e,t){return Math.round(e/t*100)}var W=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||window.RTCPeerConnection};function G(e){var t=e?e.sort((function(e,t){return e.name<t.name?-1:1})):[],n=t.filter((function(e){return"dir"===e.type})),r=t.filter((function(e){return"dir"!==e.type}));return n.concat(r)}var J=function(e){return e?e.filter((function(e){return P(I(e.name))})):null}},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n.n(r),c=n(8),i=n(11),o=n(582),l=n.n(o),s=n(1),u=null;function d(e){var t=Object(s.useState)(Boolean(u)),n=Object(i.a)(t,2),r=n[0],o=n[1],d=Object(s.useState)(null),f=Object(i.a)(d,2),p=f[0],m=f[1];return Object(s.useEffect)((function(){function t(){return(t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=4;break}console.log("IPFS already started"),t.next=24;break;case 4:if(!window.ipfs||!window.ipfs.enable){t.next=11;break}return console.log("Found window.ipfs"),t.next=8,window.ipfs.enable({commands:["id"]});case 8:u=t.sent,t.next=24;break;case 11:return t.prev=11,console.time("IPFS Started"),t.next=15,l.a.create({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star/","/dns4/webrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star/","/dns4/libp2p-rdv.vps.revolunet.com/tcp/443/wss/p2p-webrtc-star/"]}}});case 15:u=t.sent,console.timeEnd("IPFS Started"),t.next=24;break;case 19:t.prev=19,t.t0=t.catch(11),e(t.t0),u=null,m(t.t0);case 24:window.ipfs=u,o(Boolean(u));case 26:case"end":return t.stop()}}),t,null,[[11,19]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){u&&u.stop&&(console.log("Stopping IPFS"),u.stop().catch((function(e){return console.error(e)})),u=null,o(!1))}}),[]),{ipfs:u,isIpfsReady:r,ipfsInitError:p}}},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(2),a=n.n(r),c=n(8),i=n(11),o=n(1),l=n.n(o),s=n(102),u=n(182),d=n.n(u),f=n(7),p=n(215),m=n(24),b=n(33),g={container:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6,borderBottom:"1px solid ".concat(f.f),paddingBottom:2},right:{fontSize:16,lineHeight:"18px",color:f.j},userItem:{position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},icon:{marginLeft:2},menu:{position:"absolute",top:34,backgroundColor:"#FFF",minWidth:100,right:0,border:"1px solid ".concat(f.g),fontSize:14,zIndex:2},leftSide:{display:"flex",alignItems:"center"},title:{color:f.j,fontSize:16,fontWeight:400,display:"flex",alignItems:"center",userSelect:"none"},headerIcon:{marginRight:4}};function v(e){var t=e.sharedFS,n=e.title,r=e.iconComponent,u=e.leftSide,v=Object(o.useState)(null),O=Object(i.a)(v,2),y=O[0],j=O[1],E=Object(o.useState)(!1),h=Object(i.a)(E,2),x=h[0],w=h[1],C=Object(b.c)();Object(o.useEffect)((function(){(function(){var e=Object(c.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.c(t.current);case 3:n=e.sent,j(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var A=r;return l.a.createElement("div",{style:g.container},l.a.createElement("div",{style:g.leftSide},n?l.a.createElement("div",{style:g.title},l.a.createElement(A,{color:f.g,size:16,style:g.headerIcon}),n):u),l.a.createElement("div",{style:g.right},y?l.a.createElement("div",{style:g.userItem},l.a.createElement("div",{onClick:function(){return w(!x)}},l.a.createElement(d.a,{value:y,size:34,style:g.icon})),x?l.a.createElement("div",{style:g.menu},l.a.createElement(p.a,{name:"Copy user ID",onClick:Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(y);case 2:w(!1),C(Object(m.b)({message:"User ID copied to clipboard",isInfo:!0})),setTimeout((function(){return C(Object(m.b)({}))}),1500);case 5:case"end":return e.stop()}}),e)})))})):null):null))}},225:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(11),a=n(1),c=n.n(a),i=n(7),o=n(51),l=n(82);function s(e){var t=e.selected,n=e.onClick,a=e.title,o=e.iconComponent,s=Object(l.a)(),u=Object(r.a)(s,2),d=u[0],f=u[1],p=o,m={container:{backgroundColor:t?"#FFF":f?i.k:null,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",fontSize:16,cursor:"pointer",padding:8,borderRadius:4,marginBottom:8,fontFamily:"Open Sans"},title:{color:t?i.i:"#FFF",userSelect:"none",fontSize:15},icon:{marginRight:6}};return c.a.createElement("div",{style:m.container,onClick:n,ref:d},o?c.a.createElement(p,{color:t?i.j:"#FFF",size:16,style:m.icon}):null,c.a.createElement("span",{style:m.title},a))}var u=n(50),d=n(334),f=n(573),p=n.n(f),m={container:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:i.j,color:"#FFF",padding:"20px 10px",minWidth:200,fontFamily:"Open Sans",paddingBottom:0},logo:{display:"inline-block",fontFamily:"MuseoModerno",color:"#FFF",fontSize:24,fontWeight:400,marginBottom:20,textAlign:"center",justifyContent:"center",alignItems:"center",userSelect:"none",cursor:"pointer",lineHeight:"24px"},settingsBlock:{bottom:0,width:"100%"},mobilePadding:{paddingBottom:6},menuIcon:{position:"absolute",top:25,left:14},logoContainer:{display:"flex",alignItems:"center",justifyContent:"center"},footer:{textAlign:"center",marginBottom:8,fontSize:13,lineHeight:"14px",fontFamily:"Open Sans"},iconGithub:{cursor:"pointer"},githubTxt:{fontSize:10,userSelect:"none"},icon:{position:"relative",top:6,width:30,marginRight:4},logoTitle:{display:"inline-flex"}};function b(e){var t=e.setCurrentRightPanel,n=e.currentRightPanel,l=e.isDownload,f=Object(u.a)(),b=Object(a.useState)(!1),g=Object(r.a)(b,2),v=g[0],O=g[1],y=o.a;v&&(y=o.h);var j=y;return c.a.createElement("div",{style:m.container},f?c.a.createElement(j,{color:"#FFF",size:24,style:m.menuIcon,onClick:function(){O(!v)}}):null,c.a.createElement("div",null,c.a.createElement("div",{style:m.logoContainer},c.a.createElement("div",{style:m.logo,onClick:function(){document.location="".concat(window.location.origin+window.location.pathname)}},c.a.createElement("img",{src:p.a,style:m.icon}),c.a.createElement("div",{style:m.logoTitle},"Sailplane"))),!v&&f||l?c.a.createElement("div",{style:m.mobilePadding}):c.a.createElement(c.a.Fragment,null,c.a.createElement(s,{title:"Files",iconComponent:o.f,selected:"files"===n,onClick:function(){return t("files")}}),c.a.createElement(s,{title:"Drives",iconComponent:o.g,selected:"instances"===n,onClick:function(){return t("instances")}}),c.a.createElement("div",{style:m.settingsBlock},c.a.createElement(s,{title:"Settings",selected:"settings"===n,onClick:function(){return t("settings")},iconComponent:o.c}))),l?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:m.settingsBlock},c.a.createElement(s,{title:"Home",onClick:function(){return document.location="/"},iconComponent:d.FaHome})),c.a.createElement("div",{style:m.settingsBlock},c.a.createElement(s,{title:"Downloads",onClick:function(){},iconComponent:o.d,selected:!0}))):null),f?null:c.a.createElement("div",{style:m.footer},c.a.createElement("a",{href:"https://github.com/cypsela/sailplane-web",target:"_blank"},c.a.createElement(d.FaGithub,{color:i.e,size:20,style:m.iconGithub})),c.a.createElement("div",{style:m.githubTxt},"Source")))}},24:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(52);function a(e){return{type:r.b.SET_STATUS,status:e}}function c(e){return{type:r.b.SET_SHARE_DATA,shareData:e}}},247:function(e,t){},333:function(e,t,n){"use strict";(function(e){var r=n(2),a=n.n(r),c=n(8),i=n(11),o=n(1),l=n.n(o),s=(n(343),n(225)),u=n(593),d=n(50),f=n(221),p=n(584),m=n.n(p),b=n(585),g=n.n(b),v=n(64),O=n(181),y=n(224),j=n(586),E=n(596),h=n(33),x=n(60),w=n(24),C=n(120),A=n(587),k=n(22),S=n(81),I=n.n(S),B=n(7),D=n(145);t.a=Object(y.hot)(e)((function(e){var t=e.match,n=Object(d.a)(),r=Object(D.a)(),p=Object(o.useRef)(null),b=Object(o.useRef)({}),y=Object(o.useState)(!1),S=Object(i.a)(y,2),F=S[0],z=S[1],T=Object(o.useRef)({}),R=Object(o.useState)(!1),H=Object(i.a)(R,2),M=H[0],Q=H[1],N=Object(f.a)((function(){Q(!0)})),P=Object(o.useState)(!1),Y=Object(i.a)(P,2),L=Y[0],W=Y[1],G=Object(o.useState)([]),J=Object(i.a)(G,2),K=J[0],U=J[1],Z=Object(o.useState)("/r"),X=Object(i.a)(Z,2),V=X[0],q=X[1],_=Object(o.useState)(null),$=Object(i.a)(_,2),ee=$[0],te=$[1],ne=Object(o.useState)("files"),re=Object(i.a)(ne,2),ae=re[0],ce=re[1],ie=t.params.importInstanceAddress,oe=decodeURIComponent(ie),le=Object(h.c)(),se=Object(h.d)((function(e){return e.main})),ue=se.instances,de=se.instanceIndex,fe=se.newUser,pe=ue[de],me=Object(C.a)(de),be=Object(C.a)(pe),ge={container:{position:"relative",display:n?"block":"flex",flexDirection:"row",height:"100%",maxWidth:1280,margin:"0 auto",border:r.width<=1280?null:B.a}};return Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe){e.next=8;break}return t=p.current,e.next=4,v.a(t,oe);case 4:if(!e.sent){e.next=8;break}n=ue.find((function(e){return e.address===oe})),r=v.c(oe),n||le(Object(x.a)(r,oe,!0));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[oe]),Object(o.useEffect)((function(){(function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L&&(t=T.current.fs.ls(V).map((function(e){var t=T.current.fs.content(e),n=e.split("/");return{path:e,name:n[n.length-1],type:t}})),U(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[L,V,ee]),Object(o.useEffect)((function(){F&&function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue.length&&(be!==pe||!0!==L)){e.next=2;break}return e.abrupt("return");case 2:return W(!1),le(Object(w.b)({message:"Looking for drive..."})),e.next=6,v.d(p.current,pe.address,b.current);case 6:if(n=e.sent,c=(r=function(e){return function(t,n){le(Object(w.b)({message:"".concat(e," ").concat(Object(k.k)(t,n),"%")})),t===n&&Object(k.a)(1500).then((function(){return le(Object(w.b)({}))}))}})("Load"),n.events.on("db.load.progress",c),i=r("Sync"),n.events.on("db.replicate.progress",i),o=function(){return te(Date.now())},n.events.on("updated",o),n.tearDown=function(){n.events.removeListener("db.load.progress",c),n.events.removeListener("db.replicate.progress",i),n.events.removeListener("updated",o)},T.current.tearDown&&T.current.tearDown(),n.running){e.next=19;break}return e.next=19,n.start();case 19:T.current=n,t&&(q("/r"),te(Date.now())),W(!0),le(Object(w.b)({}));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(me!==de)}),[F,de,ue]),Object(o.useEffect)((function(){var e=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.b(t);case 2:n=e.sent,r=v.c(n),le(Object(x.a)(r,n.toString(),!1)),le(Object(x.f)(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return le(Object(w.b)({message:"Connecting"})),t.next=3,m.a.createInstance(n);case 3:return r=t.sent,t.next=6,g.a.create(r);case 6:if(c=t.sent,p.current=c,!fe){t.next=11;break}return t.next=11,e(c);case 11:z(!0),le(Object(w.b)({})),window.sailplane=c,window.all=I.a;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();N.isIpfsReady&&t(N.ipfs)}),[N.ipfs,N.isIpfsReady]),l.a.createElement("div",{style:ge.container},l.a.createElement(s.a,{setCurrentRightPanel:ce,currentRightPanel:ae}),F?function(){if("files"===ae){var e=0===ue.length,t=e?"Create a drive":"Looking for drive...";return L?l.a.createElement(u.a,{sharedFs:T,ipfs:N.ipfs,directoryContents:K,setCurrentDirectory:q,currentDirectory:V}):l.a.createElement(O.a,{message:t,loading:!e})}return"settings"===ae?l.a.createElement(j.a,{sharedFS:T}):"instances"===ae?l.a.createElement(E.a,{sailplane:p.current,ipfs:N.ipfs,sharedFS:T}):void 0}():l.a.createElement(O.a,{ipfsError:M}),l.a.createElement(A.a,null))}))}).call(this,n(228)(e))},339:function(e,t,n){"use strict";(function(e){var r=n(2),a=n.n(r),c=n(8),i=n(11),o=n(1),l=n.n(o),s=(n(343),n(225)),u=n(50),d=n(221),f=n(181),p=n(224),m=n(33),b=n(24),g=n(22),v=n(219),O=n(595),y=n(74),j=n(7),E=n(145);t.a=Object(p.hot)(e)((function(e){var t=e.match.params,n=t.cid,r=t.path,p=t.displayType,h=Object(u.a)(),x=Object(E.a)(),w=Object(d.a)((function(e){console.error(e)})),C=Object(o.useState)(!1),A=Object(i.a)(C,2),k=A[0],S=A[1],I=Object(o.useState)(null),B=Object(i.a)(I,2),D=B[0],F=B[1],z=Object(o.useState)(null),T=Object(i.a)(z,2),R=T[0],H=T[1],M=Object(o.useState)(!1),Q=Object(i.a)(M,2),N=Q[0],P=Q[1],Y=Object(o.useState)("files"),L=Object(i.a)(Y,2),W=L[0],G=L[1],J=Object(o.useState)(null),K=Object(i.a)(J,2),U=K[0],Z=K[1],X=decodeURIComponent(r),V=decodeURIComponent(n),q=Object(m.c)(),_=X.split("/"),$=_[_.length-1],ee=Object(g.q)(Object(g.f)($));Object(o.useEffect)((function(){ee&&k&&!U&&"default"===p&&oe()}),[ee,k,U,V,r,p]);var te=Object(y.d)($),ne=te.isEncrypted,re=te.decryptedFilename,ae={container:{display:h?"block":"flex",flexDirection:"row",height:"100%",maxWidth:1280,margin:"0 auto",border:x.width<=1280?null:j.a}},ce=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.i)(w.ipfs,V,(function(){console.log("updateping")}));case 2:t=e.sent,F(t.slice(1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.g)(V,w.ipfs);case 2:t=e.sent,H(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function oe(){return le.apply(this,arguments)}function le(){return(le=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=4;break}t=U,e.next=9;break;case 4:return e.next=6,Object(g.d)(V,X,w.ipfs,(function(e,t){q(Object(b.b)({message:"[".concat(Object(g.k)(e,t),"%] Downloading")}))}));case 6:t=e.sent,q(Object(b.b)({})),Z(t);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(o.useEffect)((function(){w.isIpfsReady&&!k&&(S(!0),ce(),ie())}),[w.ipfs,w.isIpfsReady,k,p,V]);var se=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(Object(b.b)({message:"Fetching file"})),e.next=3,oe();case 3:if(n=e.sent,!ne){e.next=10;break}return q(Object(b.b)({message:"Decrypting file"})),e.next=8,Object(y.a)(n,t);case 8:n=e.sent,q(Object(b.b)({}));case 10:Object(v.saveAs)(n,re),P(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{style:ae.container},l.a.createElement(s.a,{isDownload:!0,setCurrentRightPanel:G,currentRightPanel:W}),k?l.a.createElement(O.a,{handleDownload:se,ready:k,path:X,cid:V,files:D,displayType:p,downloadComplete:N,fileInfo:R,fileBlob:U,ipfs:w.ipfs}):l.a.createElement(f.a,null))}))}).call(this,n(228)(e))},343:function(e,t,n){},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(11),a=n(1),c=n.n(a),i=n(7),o=n(82),l=n(179);function s(e){var t=e.iconComponent,n=e.onClick,a=e.size,s=e.changeColor,u=e.tooltip,d=e.title,f=e.defaultColor,p=e.id,m=e.className,b=Object(o.a)(),g=Object(r.a)(b,2),v=g[0],O=g[1],y=Object(l.a)(),j=Object(r.a)(y,2),E=j[0],h=j[1],x=Object(l.a)(),w=Object(r.a)(x,2),C=w[0],A=w[1],k=t,S=A.width?A.width:0;f||(f=i.g),s||(s=i.b);var I={container:{position:"relative",display:"inline-flex",alignItems:"center",cursor:"pointer",padding:4,fontSize:14},popover:{position:"fixed",top:h.y-32,left:h.x-(S/2-8),backgroundColor:i.g,color:"#FFF",padding:"4px 6px",borderRadius:2,fontSize:14,fontWeight:400,zIndex:1e3,pointerEvents:"none"},title:{color:O?s:f,marginLeft:4,textDecoration:O?"underline":"none",fontSize:13,lineHeight:"13px",whiteSpace:"nowrap"}};return c.a.createElement("div",{id:p,className:m,style:I.container,ref:v,onClick:function(e){e.stopPropagation(),n()}},c.a.createElement("div",{ref:E}),t?c.a.createElement(k,{color:O?s:f,size:a||16,style:I.icon}):null,d?c.a.createElement("span",{style:I.title},d):null,O&&u?c.a.createElement("div",{style:I.popover,ref:C},u):null)}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(145);function a(){return Object(r.a)().width<600}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={ADD_INSTANCE:"ADD_INSTANCE",REMOVE_INSTANCE:"REMOVE_INSTANCE",SET_INSTANCE_INDEX:"SET_INSTANCE_INDEX",SET_ENCRYPTION_KEY:"SET_ENCRYPTION_KEY",CLEAR_ENCRYPTION_KEY:"CLEAR_ENCRYPTION_KEY",SET_NEW_USER:"SET_NEW_USER"},a={SET_STATUS:"SET_STATUS",SET_SHARE_DATA:"SET_SHARE_DATA"}},573:function(e,t){e.exports="data:image/png;base64,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"},586:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=n.n(r),c=n(7),i=n(223),o=n(51),l={container:{padding:10,paddingTop:6,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},settingItem:{lineHeight:"14px",display:"flex",alignItems:"center",color:c.j}};function s(e){var t=e.sharedFS;return a.a.createElement("div",{style:l.container},a.a.createElement(i.a,{sharedFS:t,title:"Settings",iconComponent:o.c}))}},587:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),a=n(90),c=n(1),i=n.n(c),o=n(26),l=(n(1451),{menuItem:{marginLeft:4,fontSize:14}}),s=function(){return i.a.createElement(a.Menu,{id:"menu-id"},i.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleDownload()}},i.a.createElement(o.d,{size:16,style:l.icon}),i.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Download")),i.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleEdit()}},i.a.createElement(o.e,{size:16,style:l.icon}),i.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Rename")),i.a.createElement(a.Item,{className:"MenuItem",onClick:function(e){return e.props.handleShare()}},i.a.createElement(o.p,{size:16,style:l.icon}),i.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Share")),i.a.createElement(a.Separator,null),i.a.createElement(a.Item,{className:"MenuItem delete",onClick:function(e){return e.props.handleDelete()}},i.a.createElement(o.q,{size:16,style:l.icon}),i.a.createElement("span",{style:Object(r.a)({},l.menuItem)},"Delete")))}},593:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r=n(15),a=n(2),c=n.n(a),i=n(8),o=n(11),l=n(83),s=n(1),u=n.n(s),d=n(594),f=n(7),p=n(575),m=n.n(p),b=n(33),g=n(24),v=n(74),O=n(22),y=n(121),j=n(50);function E(e){var t=e.handleOpenUpload,n=e.isActive,a=Object(j.a)()?"Tap to upload files":"Drag files to upload or click here",c={container:{border:"2px dashed ".concat(f.g),backgroundColor:n?f.f:null,borderRadius:4,padding:18,height:n?"100%":null,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"},icon:{padding:"0 6px"},dragTitle:{color:n?f.j:f.g,fontSize:16,fontWeight:400,marginTop:2},iconContainer:{display:"inline-block"},outer:{paddingTop:4,height:"100%",boxSizing:"border-box"}},i=n?f.j:f.g;return u.a.createElement("div",{style:c.outer},u.a.createElement("div",{style:c.container,onClick:n?null:t},u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:".5s"})},u.a.createElement(y.FiImage,{color:i,size:20,style:Object(r.a)({},c.icon)})),u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:".75s"})},u.a.createElement(y.FiFolder,{color:i,size:20,style:Object(r.a)({},c.icon)})),u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:"1s"})},u.a.createElement(y.FiMusic,{color:i,size:20,style:Object(r.a)({},c.icon)})),u.a.createElement("div",{className:n?"jumpingDrop":"jumping",style:Object(r.a)(Object(r.a)({},c.iconContainer),{},{animationDelay:"1.25s"})},u.a.createElement(y.FiVideo,{color:i,size:20,style:Object(r.a)({},c.icon)}))),u.a.createElement("div",{style:c.dragTitle},n?"Drop to upload":a))))}function h(e,t){var n=e.children,r=e.sharedFs,a=e.currentDirectory,o={container:{cursor:"pointer",textAlign:"center",color:f.l,fontSize:16,fontWeight:200,fontFamily:"Open Sans",outline:0,userSelect:"none",height:"100%"}},p=Object(b.c)(),y=Object(b.d)((function(e){return e.main.encryptionKey})),j=Object(s.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var n,i,o,s,u,d,f,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=26;break}n=[],i=0,o=Object(l.a)(t),e.prev=4,o.s();case 6:if((s=o.n()).done){e.next=17;break}return u=s.value,i++,p(Object(g.b)({message:"[".concat(i,"/").concat(t.length,"] Encrypting ").concat(u.path)})),e.next=12,Object(v.c)(u,y.key);case 12:d=e.sent,p(Object(g.b)({})),n.push(d);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:t=n;case 26:return p(Object(g.b)({message:"Uploading"})),f=m()(t,{preserveMtime:!0}),b=t.reduce((function(e,t){return t.size+e}),0),e.prev=29,e.next=32,r.current.upload(a,f,{progress:function(e){p(Object(g.b)({message:"[".concat(Object(O.k)(e,b),"%] Uploading files")}))}});case 32:p(Object(g.b)({})),e.next=39;break;case 35:e.prev=35,e.t1=e.catch(29),p(Object(g.b)({message:"Missing write permissions.",isError:!0})),Object(O.a)(4e3).then((function(){return p(Object(g.b)({}))}));case 39:case"end":return e.stop()}}),e,null,[[4,19,22,25],[29,35]])})));return function(t){return e.apply(this,arguments)}}(),[a,y]),h=Object(d.a)({onDrop:j,noClick:!0}),x=h.getRootProps,w=h.getInputProps,C=h.isDragActive,A=h.open;return Object(s.useImperativeHandle)(t,(function(){return{openUpload:function(){A()}}})),u.a.createElement("div",Object.assign({},x(),{style:o.container,id:"dropZone"}),u.a.createElement("input",Object.assign({},w(),{id:"fileUpload"})),C?u.a.createElement(E,{isActive:!0}):u.a.createElement("div",null,n))}h=Object(s.forwardRef)(h);var x=n(48),w=n(26),C=n(51),A=n(579),k=n(215),S=n(60);function I(e){Object(A.a)(e);var t=Object(b.d)((function(e){return e.main})),n=Object(b.c)(),r=t.instances,a=t.instanceIndex,c=r[a],i=Object(s.useState)(!1),l=Object(o.a)(i,2),d=l[0],p=l[1],m=r.filter((function(e){return e!==c})),g={container:{display:r.length>1?"flex":"none",alignItems:"center",position:"relative",marginRight:6,border:"1px solid ".concat(f.g),borderBottomWidth:d?0:1,color:f.j,padding:"3px 6px",borderRadius:"4px 4px ".concat(d?0:4,"px ").concat(d?0:4,"px"),fontSize:14},menu:{backgroundColor:"#FFF",position:"absolute",minWidth:196,top:25,left:-1,border:"1px solid ".concat(f.j),color:f.j},icon:{marginRight:4}};return u.a.createElement("span",{style:g.container,onClick:function(){m.length&&p(!d)}},u.a.createElement(w.h,{color:f.j,size:16,style:g.icon}),u.a.createElement("span",{id:"currentInstanceSelector"},c.name),d?u.a.createElement("div",{style:g.menu},m.map((function(e,t){return u.a.createElement(k.a,{key:t,name:e.name,onClick:function(){var t=r.findIndex((function(t){return t===e}));n(Object(S.e)(t))}})}))):null)}var B={container:{display:"flex",flexDirection:"row",alignItems:"center",fontSize:16,color:f.j,fontFamily:"Open Sans",fontWeight:600,userSelect:"none",flexWrap:"wrap"},icon:{marginRight:4},root:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",fontWeight:400},folderIcon:{marginLeft:4,marginRight:4},folderName:{fontWeight:400,cursor:"pointer",marginLeft:2,marginRight:2}};function D(e){var t=e.currentDirectory,n=e.setCurrentDirectory,r=t.split("/").slice(2);return u.a.createElement("div",{style:B.container},u.a.createElement("div",{onClick:function(){return n("/r")},style:B.root},u.a.createElement(C.b,{color:f.j,size:16,style:B.icon}),u.a.createElement(I,null)," /"),r.map((function(e,t){for(var a="/r",c=0;c<=t;c++)a+="/".concat(r[c]);return u.a.createElement("span",{key:e},u.a.createElement("span",{style:B.folderName,className:"folderName",onClick:function(){n(a)}},e),"/")})))}var F=n(73),z={tools:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",fontFamily:"Open Sans",marginTop:4,marginBottom:10},leftTools:{display:"flex",alignItems:"center"},rightTools:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start"}};function T(e){var t=e.currentDirectory,n=e.sharedFs,r=e.setCurrentDirectory,a=e.handleOpenUpload,l=Object(s.useState)(!1),d=Object(o.a)(l,2),p=d[0],m=d[1],v=Object(s.useState)(!1),O=Object(o.a)(v,2),y=O[0],E=O[1],h=Object(b.c)(),C=Object(b.d)((function(e){return e.main.encryptionKey})),A=t.split("/"),k=A[A.length-1],I=Object(j.a)(),B=function(){var e=Object(i.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.current.mkdir(t,r);case 3:m(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Mkdir error",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),T=Object(F.a)(p,(function(e){return B(e)}),(function(){return m(!1)}),"",{placeholder:"folder name"}),R=Object(F.a)(y,(function(e){return function(e){h(Object(S.d)(e,"string")),E(!1)}(e)}),(function(){return E(!1)}),"",{placeholder:"secure password",isPassword:!0});return u.a.createElement("div",null,u.a.createElement("div",{style:z.tools},u.a.createElement("div",{style:z.leftTools},I&&(y||p)?null:u.a.createElement(D,{currentDirectory:t,setCurrentDirectory:r})),u.a.createElement("div",{style:z.rightTools},p||y?null:u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{id:"togglePassword",iconComponent:C?w.k:w.r,size:18,defaultColor:C?f.c:null,changeColor:C?f.b:f.c,onClick:function(){C?h(Object(S.b)()):E(!0)}}),"/r"!==t?u.a.createElement(x.a,{id:"folderShare",iconComponent:w.p,size:18,changeColor:f.i,onClick:function(){h(Object(g.a)({name:k,path:t,pathType:"dir"}))}}):null,u.a.createElement(x.a,{iconComponent:w.s,size:18,changeColor:f.i,onClick:function(){a()}}),u.a.createElement(x.a,{id:"addFolder",iconComponent:w.g,size:18,changeColor:f.i,onClick:function(){return m(!0)}})),p?u.a.createElement(u.a.Fragment,null,T):null,y?u.a.createElement(u.a.Fragment,null,R):null)))}var R=n(183),H=n(146);function M(e){var t=e.onSelect,n=e.items,a=e.currentIndex,c={container:{display:"flex",alignItems:"center"},item:{display:"flex",alignItems:"center",padding:6,borderRadius:4,cursor:"pointer"}};return u.a.createElement("div",{style:c.container},n.map((function(e,i){var o=e.icon;return u.a.createElement("div",{id:"shareType-".concat(n[i].name),style:Object(r.a)(Object(r.a)({},c.item),{},{backgroundColor:i===a?f.j:null}),onClick:function(){t(i)}},u.a.createElement(o,{color:i===a?"#FFF":f.j,size:16,style:c.icon}))})))}var Q=n(216),N={filename:{color:f.j},input:{border:"1px solid ".concat(f.g),borderRadius:4,color:f.d,fontSize:14,fontWeight:200,padding:4,display:"inline-flex",flexGrow:2,marginTop:8},flex:{display:"flex"},link:{marginTop:8,color:"".concat(f.j," !important"),fontSize:14},loading:{display:"flex",alignItems:"center",color:f.j,marginTop:10,fontSize:14},icon:{marginRight:4},nameHolder:{display:"flex",justifyContent:"space-between",alignItems:"center"}},P=[{name:"default",icon:w.f},{name:"image",icon:w.i},{name:"audio",icon:w.l}];function Y(e){var t=e.sharedFs,n=Object(b.c)(),r=Object(b.d)((function(e){return e.tempData.shareData})),a=Object(s.useRef)(null),l=r.CID,d=r.path,p=r.name,m=r.pathType,v=Object(s.useState)(0),y=Object(o.a)(v,2),j=y[0],E=y[1],h=Object(s.useState)(l),x=Object(o.a)(h,2),C=x[0],A=x[1];if(Object(s.useEffect)((function(){p?A(l):(A(null),E(0))}),[p,l]),Object(s.useEffect)((function(){var e=function(){var e=Object(i.a)(c.a.mark((function e(){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.current.read(d);case 2:n=e.sent,A(n),"dir"===m&&(r=t.current.fs.ls(d).map((function(e){var n=t.current.fs.content(e),r=d.split("/");return{path:e,name:r[r.length-1],type:n}})),a=Object(O.l)(r),i=P.findIndex((function(e){return e.name===a})),E(i));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!C&&d?e():a.current&&a.current.select()}),[C,d]),!d)return null;var k="".concat(window.location.origin+window.location.pathname,"#/download/").concat(encodeURIComponent(C),"/").concat(encodeURIComponent(d),"/").concat(P[j].name);return u.a.createElement(Q.a,{title:"Share options",onClose:function(){return n(Object(g.a)({}))},isVisible:d,body:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:N.nameHolder},u.a.createElement("div",{style:N.filename},p),u.a.createElement("div",null,"dir"===m?u.a.createElement(M,{currentIndex:j,items:P,onSelect:function(e){return E(e)}}):null)),C?u.a.createElement("div",null,u.a.createElement("div",{style:N.flex},u.a.createElement("input",{ref:a,style:N.input,type:"text",value:k,readOnly:!0})),u.a.createElement("div",{style:N.link},u.a.createElement("a",{href:k,className:"link",target:"_blank"},"Open link"))):u.a.createElement("div",{style:N.loading},u.a.createElement(w.j,{color:f.j,size:16,style:N.icon,className:"rotating"}),"Loading share link..."))})}var L=n(147);function W(e){var t=e.data,n=e.sharedFs,r=e.setCurrentDirectory,a=e.ipfs,c=e.fileIndex,i=e.isParent,o=e.onIconClicked;return u.a.createElement(R.b,{draggableId:t.path,index:c},(function(e,l){var s=e.innerRef,d=e.draggableProps,f=e.dragHandleProps;return u.a.createElement("div",Object.assign({ref:s},d,f,{style:Object(O.e)(d.style,l)}),u.a.createElement(L.a,{sharedFs:n,setCurrentDirectory:r,isParent:i,fileIndex:c,ipfs:a,data:t,snapshot:l,onIconClicked:o}))}))}var G=n(220),J={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",display:"flex",flexDirection:"column",fontFamily:"Open Sans",boxSizing:"border-box",height:"100%"},fileHeader:{marginTop:10,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(f.f),paddingBottom:10,marginBottom:4,userSelect:"none"},fileHeaderItem:{width:"100%",color:f.h,fontSize:12,letterSpacing:1.08,textAlign:"left"},files:{backgroundColor:"#FFF"},dropContainer:{display:"flex",flexDirection:"column",alignItems:"stretch",flexGrow:2,opacity:1,height:"100%",overflowY:"auto"}};function K(e){var t=e.sharedFs,n=e.ipfs,a=e.directoryContents,l=e.setCurrentDirectory,d=e.currentDirectory,f=Object(j.a)(),p=Object(s.useRef)(null),m=Object(O.t)(a),v=d.split("/"),y=v.slice(0,v.length-1).join("/"),x=Object(s.useState)(!1),w=Object(o.a)(x,2),C=w[0],A=w[1],k=Object(s.useState)(0),S=Object(o.a)(k,2),I=S[0],B=S[1],D=Object(s.useState)(new Array(1e3)),F=Object(o.a)(D,2),z=F[0],M=F[1],Q=Object(O.c)(m),N=Object(b.c)();return Object(s.useEffect)((function(){M(new Array(1e3))}),[d]),Object(s.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z[0]&&C){e.next=2;break}return e.abrupt("return");case 2:return r=Q.map(function(){var e=Object(i.a)(c.a.mark((function e(r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.current.read(r.path);case 2:return a=e.sent,e.next=5,Object(O.d)(a,r.path,n,(function(e,t){N(Object(g.b)({message:"[".concat(Object(O.k)(e,t),"%] Loading previews")}))}));case 5:return i=e.sent,N(Object(g.b)({})),e.abrupt("return",window.URL.createObjectURL(i));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(r);case 5:a=e.sent,M(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[Q.length,C,d]),u.a.createElement("div",{style:J.container},C&&z[I]?u.a.createElement(G.a,{mainSrc:z[I],nextSrc:z[I+1],prevSrc:z[I-1],onMoveNextRequest:function(){return B(I+1)},onMovePrevRequest:function(){return B(I-1)},onCloseRequest:function(){return A(!1)}}):null,u.a.createElement(T,{currentDirectory:d,sharedFs:t,setCurrentDirectory:l,handleOpenUpload:function(){p.current.openUpload()}}),u.a.createElement("div",{style:J.fileHeader},u.a.createElement("div",{style:Object(r.a)(Object(r.a)({},J.fileHeaderItem),{},{paddingLeft:12})},"Name"),f?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:Object(r.a)(Object(r.a)({},J.fileHeaderItem),{},{textAlign:"right"})},"Size"),u.a.createElement("div",{style:Object(r.a)(Object(r.a)({},J.fileHeaderItem),{},{textAlign:"right"})},"Modified")),u.a.createElement("div",{style:J.fileHeaderItem})),u.a.createElement("div",{style:J.dropContainer},u.a.createElement(h,{sharedFs:t,currentDirectory:d,ref:p},u.a.createElement(R.a,{onDragEnd:function(){var e=Object(i.a)(c.a.mark((function e(n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.combine,a=n.draggableId,!r){e.next=14;break}if(i=t.current.fs.pathName(a),"dir"===t.current.fs.content(r.draggableId)){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,t.current.move(n.draggableId,n.combine.draggableId,i);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),N(Object(g.b)({message:"failed to move ".concat(n.draggableId),isError:!0})),Object(O.a)(2e3).then((function(){return N(Object(g.b)({}))}));case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},u.a.createElement(R.c,{droppableId:"droppable-1",type:"fileblock",isCombineEnabled:!0},(function(e,r){return u.a.createElement("div",{style:J.filesContainer},"/r"!==d?u.a.createElement(W,{fileIndex:0,isParent:!0,key:y,data:{path:y,type:"dir"},sharedFs:t,ipfs:n,setCurrentDirectory:l}):null,u.a.createElement("div",Object.assign({ref:e.innerRef,style:{}},e.droppableProps),a.length?u.a.createElement("div",{style:J.files},m.map((function(e,r){return u.a.createElement(W,{fileIndex:r+1,key:e.path,data:e,sharedFs:t,ipfs:n,setCurrentDirectory:l,onIconClicked:Object(O.p)(Object(O.f)(e.name))?function(){var t=Q.findIndex((function(t){return t.name===e.name}));B(t),A(!0)}:null})}))):u.a.createElement(E,{handleOpenUpload:function(){p.current.openUpload()}}),u.a.createElement("span",{style:{display:"none"}},e.placeholder)))}))))),u.a.createElement(H.a,null),u.a.createElement(Y,{sharedFs:t}))}},595:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(15),a=n(2),c=n.n(a),i=n(8),o=n(11),l=n(1),s=n.n(l),u=n(146),d=n(7),f=n(74),p=n(26),m=n(73),b=n(22);function g(e){var t=e.file,n=e.onLoadURL,r=e.fileIndex,a=e.onClick,u=Object(l.useState)(null),f=Object(o.a)(u,2),p=f[0],m=f[1],g=Object(l.useState)(0),v=Object(o.a)(g,2),O=v[0],y=v[1],j={container:{padding:8,color:d.j,fontSize:14},img:{padding:8,background:"center/cover url(".concat(p,")"),minWidth:140,minHeight:200,justifyContent:"center",alignItems:"center",display:"flex",cursor:"pointer"}};function E(){return(E=Object(i.a)(c.a.mark((function e(){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.b)(t,(function(e,t){y(Object(b.k)(e,t))}));case 3:a=e.sent,i=window.URL.createObjectURL(a),m(i),n(i,r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("err filetoblob",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(l.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[]),s.a.createElement("div",{style:j.container},s.a.createElement("div",{className:"imageGalleryBlock",style:j.img,onClick:function(){return a()}},p?null:s.a.createElement("div",null,O,"%")))}var v=n(220);n(571);function O(e){var t=e.files,n=Object(l.useState)(!1),r=Object(o.a)(n,2),a=r[0],c=r[1],i=Object(l.useState)(0),u=Object(o.a)(i,2),d=u[0],f=u[1],p=Object(l.useState)(new Array(1e3)),m=Object(o.a)(p,2),O=m[0],y=m[1],j=Object(b.c)(t);return s.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",flexWrap:"wrap"}},a&&O[d]?s.a.createElement(v.a,{mainSrc:O[d],nextSrc:O[d+1],prevSrc:O[d-1],onMoveNextRequest:function(){return f(d+1)},onMovePrevRequest:function(){return f(d-1)},onCloseRequest:function(){return c(!1)}}):null,j?j.map((function(e,t){return s.a.createElement(g,{key:t,file:e,fileIndex:t,onClick:function(){O[t]&&(f(t),c(!0))},onLoadURL:function(e){var n=O;n[t]=e,y(n)}})})):null)}var y=n(218),j=n(147),E=n(50);function h(e){var t=e.currentAudio,n=e.setPlaying,r={outer:{width:"100%",backgroundColor:d.f,padding:18,borderRadius:4,boxShadow:"rgb(70, 145, 191) 0px 0px 4px",marginTop:10,marginBottom:8},container:{width:"100%",color:"#FFF",backgroundColor:d.g,borderRadius:4,display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:10,height:50,boxShadow:"1px 2px 3px #4691bfad inset"},name:{fontFamily:"MuseoModerno",lineHeight:"16px",fontWeight:"500",fontStyle:"italic",textAlign:"center"},audio:{width:"100%",userSelect:"none",outline:0,boxShadow:"0px 0px 2px ".concat(d.i),borderRadius:30}},a=Object(l.useRef)(null),c={filename:"Not Playing"};return t&&(c=t),s.a.createElement("div",{style:r.outer},s.a.createElement("div",{style:r.container},s.a.createElement("div",{style:r.name},b.n?s.a.createElement("marquee",{scrollamount:4,behavior:"scroll"},c.filename?c.filename:"Not playing"):s.a.createElement("div",null,c.filename?c.filename:"Not playing"))),s.a.createElement("audio",{ref:a,style:r.audio,onPlay:function(){n(!0)},onPause:function(){n(!1)},onEnded:function(){n(!1)},autoPlay:!0,src:c.url,controls:!0}))}var x=n(120),w=n(91),C=n(33),A=n(24);function k(e){var t=e.files,n=e.ipfs,a={container:{display:"flex",width:"100%",justifyContent:"center",flexWrap:"wrap"},fileContainer:{width:"100%"},fileHeader:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(d.f),paddingBottom:10,marginBottom:4},fileHeaderItem:{width:"100%",color:d.h,fontSize:12,letterSpacing:1.08,textAlign:"left"}},u=Object(C.c)(),f=Object(l.useState)(-1),m=Object(o.a)(f,2),g=m[0],v=m[1],O=Object(l.useState)(new Array(1e3)),y=Object(o.a)(O,2),k=y[0],S=y[1],I=Object(l.useState)(!1),B=Object(o.a)(I,2),D=B[0],F=B[1],z=Object(x.a)(g),T=t?t.filter((function(e){var t=Object(b.f)(e.name);return Object(b.o)(t)})):null,R=Object(E.a)(),H=Object(b.t)(T);function M(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.b)(t,(function(e,t){u(Object(A.b)({message:"[".concat(Object(b.k)(e,t),"%] Downloading audio")}))}));case 2:return n=e.sent,u(Object(A.b)({})),r=window.URL.createObjectURL(n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z!==g){e.next=2;break}return e.abrupt("return");case 2:if(k[g]){e.next=11;break}if(t=H[g]){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,M(t);case 8:n=e.sent,r=Object(w.a)(k,(function(e){e[g]=n})),S(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g,k,H]);var N=H[g],P=k[g],Y={filename:null===N||void 0===N?void 0:N.name,url:P};return s.a.createElement("div",{style:a.container},s.a.createElement(h,{currentAudio:Y,setPlaying:F}),H?s.a.createElement("div",{style:a.fileContainer},s.a.createElement("div",{style:a.fileHeader},s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},a.fileHeaderItem),{},{paddingLeft:12})},"Name"),R?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},a.fileHeaderItem),{},{textAlign:"right"})},"Size"),s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},a.fileHeaderItem),{},{textAlign:"right"})},"Modified")),s.a.createElement("div",{style:a.fileHeaderItem})),H.map((function(e,t){return s.a.createElement(j.a,{forceIcon:!0===D&&g===t?p.m:p.n,data:e,setCurrentDirectory:function(){},readOnly:!0,ipfs:n,onIconClicked:function(){t!==g&&v(t)}})}))):null)}var S={container:{position:"relative",padding:10,paddingTop:20,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},filename:{color:d.j,fontSize:20,textAlign:"center",borderBottom:"1px solid ".concat(d.f),paddingBottom:6,marginBottom:6},fileSize:{fontSize:14,textAlign:"center",color:d.j},downloadButton:{display:"inline-block",backgroundColor:d.j,color:"#FFF",borderRadius:4,padding:12,marginTop:10,cursor:"pointer"},icon:{marginRight:4},passwordContainer:{marginTop:10},downloadButtonHolder:{textAlign:"center",marginBottom:8},previewBlock:{display:"flex",justifyContent:"center",marginTop:10},fileHeader:{marginTop:20,display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid ".concat(d.f),paddingBottom:10,marginBottom:4},fileHeaderItem:{width:"100%",color:d.h,fontSize:12,letterSpacing:1.08,textAlign:"left"}};function I(e){var t=e.ready,n=e.path,a=e.handleDownload,g=e.downloadComplete,v=e.displayType,h=e.files,x=e.fileInfo,w=e.fileBlob,C=e.ipfs,A=n.split("/"),I=A[A.length-1],B=Object(l.useState)(!1),D=Object(o.a)(B,2),F=D[0],z=D[1],T=Object(l.useState)(!1),R=Object(o.a)(T,2),H=R[0],M=R[1],Q=Object(E.a)(),N=Object(f.d)(I),P=N.isEncrypted,Y=N.decryptedFilename,L=N.passHash,W=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(t,L);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:e.sent||(M(!1),a(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=Object(m.a)(H,(function(e){return G(e)}),(function(){return M(!1)}),"",{placeholder:"password",isPassword:!0,isError:W,confirmTitle:"Unlock"}),K=Object(b.t)(h);return s.a.createElement("div",{style:S.container},s.a.createElement("div",null,t?s.a.createElement("div",null,s.a.createElement("div",{style:S.filename},P?s.a.createElement(p.k,{color:d.j,size:16,style:S.icon}):null,Y),s.a.createElement("div",{style:S.downloadButtonHolder},H?s.a.createElement("div",{style:S.passwordContainer},J):s.a.createElement("div",{style:S.downloadButton,onClick:function(){P?M(!0):(z(!0),a())}},F&&!g?"Fetching download...":"Download now")),(null===x||void 0===x?void 0:x.size)?s.a.createElement("div",{style:S.fileSize},Object(b.m)(x.size)):null,w?s.a.createElement("div",{style:S.previewBlock},s.a.createElement("div",{style:S.preview},s.a.createElement(y.a,{blob:w,filename:I,size:"large"}))):null,"default"!==v?s.a.createElement("div",null,"image"===v?s.a.createElement(O,{files:h}):null,"audio"===v?s.a.createElement(k,{files:h,ipfs:C}):null):null,K.length&&"audio"!==v?s.a.createElement("div",{style:S.fileContainer},s.a.createElement("div",{style:S.fileHeader},s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},S.fileHeaderItem),{},{paddingLeft:12})},"Name"),Q?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},S.fileHeaderItem),{},{textAlign:"right"})},"Size"),s.a.createElement("div",{style:Object(r.a)(Object(r.a)({},S.fileHeaderItem),{},{textAlign:"right"})},"Modified")),s.a.createElement("div",{style:S.fileHeaderItem})),K.map((function(e){return s.a.createElement(j.a,{key:e.name,data:e,setCurrentDirectory:function(){},readOnly:!0,ipfs:C})}))):null):s.a.createElement("div",null)),s.a.createElement(u.a,null))}},596:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(2),a=n.n(r),c=n(8),i=n(11),o=n(1),l=n.n(o),s=n(7),u=n(48),d=n(26),f=n(33),p=n(24),m=n(82),b=n(64),g=l.a.memo((function(e){var t=e.data,n=e.selected,r=e.onClick,o=e.onDelete,g=(e.instanceIndex,e.onAccess),v=t.address,O=t.isImported,y=Object(f.c)(),j=Object(m.a)(),E=Object(i.a)(j,2),h=E[0],x=E[1],w=n?s.g:"#FFF";x&&!n&&(w=s.e);var C=n?"#FFF":s.j,A={paddingContainer:{paddingTop:3,paddingBottom:3},outer:{backgroundColor:w,color:C,padding:6,paddingTop:6,fontFamily:"Open Sans",cursor:"pointer",borderRadius:4},container:{display:"flex",justifyContent:"space-between",alignItems:"center"},address:{fontSize:14,overflow:"hidden",width:"40%",textOverflow:"ellipsis",whiteSpace:"nowrap"},tools:{display:"flex",justifyContent:"flex-end"},name:{fontSize:16,lineHeight:"19px",display:"flex",alignItems:"center"},icon:{marginRight:4},importedTxt:{marginLeft:6,fontSize:13}};"".concat(window.location.origin+window.location.pathname,"#/importInstance/").concat(encodeURIComponent(v));return l.a.createElement("div",{style:A.paddingContainer,ref:h},l.a.createElement("div",{className:"drive",style:A.outer,onClick:function(e){e.stopPropagation(),r()}},l.a.createElement("div",{style:A.container},l.a.createElement("div",{style:A.name},l.a.createElement(d.h,{className:"shareIcon",color:C,size:15,style:A.icon}),Object(b.c)(v),O?l.a.createElement("span",{style:A.importedTxt},"[imported]"):null),l.a.createElement("div",{style:A.tools},l.a.createElement(u.a,{className:"instanceAccess",defaultColor:C,iconComponent:d.u,size:15,changeColor:s.d,onClick:function(){return g()}}),l.a.createElement(u.a,{className:"instanceAddressCopy",defaultColor:C,iconComponent:d.c,size:15,changeColor:s.d,onClick:Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(v);case 2:y(Object(p.b)({message:"Drive address copied to clipboard",isInfo:!0})),setTimeout((function(){return y(Object(p.b)({}))}),1500);case 4:case"end":return e.stop()}}),e)})))}),l.a.createElement(u.a,{className:"instanceDelete",defaultColor:C,iconComponent:d.q,size:15,changeColor:s.b,onClick:function(){return o()}})))))})),v=n(51),O=n(73),y=n(60),j=n(146),E=n(120),h=n(22),x=n(15),w=n(216),C=n(102),A=n(182),k=n.n(A),S=n(179);function I(e){var t=e.instanceToModifyAccess,n=e.onClose,r=e.sharedFS,f=Object(o.useState)(null),p=Object(i.a)(f,2),m=p[0],g=p[1],v=Object(o.useState)(null),y=Object(i.a)(v,2),j=y[0],E=y[1],h=Object(o.useState)(!1),A=Object(i.a)(h,2),I=A[0],B=A[1],D=Object(o.useState)(null),F=Object(i.a)(D,2),z=F[0],T=F[1],R=Object(o.useState)(null),H=Object(i.a)(R,2),M=H[0],Q=H[1],N=Object(S.a)(),P=Object(i.a)(N,2),Y=P[0],L=(P[1],{userBlock:{color:s.i,fontSize:18,fontFamily:"Open Sans",lineHeight:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:6},adminLeft:{display:"flex",justifyContent:"flex-start",alignItems:"center"},iconHolder:{marginRight:8},adminTitle:{fontSize:12,lineHeight:"12px",textAlign:"center",color:s.j,marginBottom:3},adminTools:{display:"flex",alignItems:"center",justifyContent:"flex-end"},messageText:{color:s.j,textAlign:"center",marginTop:8},body:{color:s.j},panels:{display:"flex",justifyContent:"space-between"},panel:{borderRadius:4,width:"49%",border:s.a,boxSizing:"border-box"},panelTitle:{display:"flex",justifyContent:"space-between",fontSize:15,lineHeight:"15px",marginBottom:4,textAlign:"center",backgroundColor:s.e,color:s.i,padding:4,height:20},panelBody:{padding:6},third:{width:"33.3%",display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center"},youText:{fontSize:14},alert:{backgroundColor:s.e,color:s.i,fontSize:14,padding:6,borderRadius:4,marginBottom:6,border:s.a}});Object(o.useEffect)((function(){(function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a(r.current);case 2:return t=e.sent,e.next=5,C.e(r.current);case 5:return n=e.sent,e.next=8,C.c(r.current);case 8:c=e.sent,g(Array.from(t)),E(Array.from(n)),T(c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.address,r,M]);var W=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.d(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C.b(r.current,t);case 4:Q(Date.now()),B(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=Object(O.a)(I,(function(e){return W(e)}),(function(){return B(!1)}),"",{placeholder:"user id",confirmTitle:"Add writer"});return m&&j?l.a.createElement(w.a,{isVisible:!0,title:"User permissions for ".concat(Object(b.c)(t.address)),body:l.a.createElement("div",{style:L.body,ref:Y},l.a.createElement("div",{style:L.alert},m.includes(z)?"You are an admin of this drive. You have full access.":j.includes(z)?"You are a writer on this drive.":"You have read access only."),l.a.createElement("div",{style:L.panels},l.a.createElement("div",{style:L.panel},l.a.createElement("div",{style:L.panelTitle},l.a.createElement("div",{style:L.third}),l.a.createElement("div",{style:L.third},"Admins"),l.a.createElement("div",{style:Object(x.a)(Object(x.a)(Object(x.a)({},L.adminTools),L.third),{},{justifyContent:"flex-end"})})),l.a.createElement("div",{style:L.panelBody},m.map((function(e){return l.a.createElement("div",{style:L.userBlock},l.a.createElement("div",{style:L.adminLeft},l.a.createElement("div",{style:L.iconHolder},l.a.createElement(k.a,{value:e,size:34,style:L.icon})),l.a.createElement("div",{style:L.adminNameHolder},l.a.createElement("div",{style:L.adminTitle}),l.a.createElement("div",null,e.slice(0,6)," ",z===e?l.a.createElement("span",{style:L.youText},"[You]"):""))))})))),l.a.createElement("div",{style:L.panel},l.a.createElement("div",{style:L.panelTitle},I?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:L.third}),l.a.createElement("div",{style:L.third},"Writers")),l.a.createElement("div",{style:Object(x.a)(Object(x.a)(Object(x.a)({},L.adminTools),L.third),{},{justifyContent:"flex-end",width:I?"100%":"30%"})},!I&&m.includes(z)?l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{iconComponent:d.t,changeColor:s.i,defaultColor:s.i,onClick:function(){return B(!0)}})):null,I?G:null)),l.a.createElement("div",{style:L.panelBody},l.a.createElement("div",{style:L.writers},0===(null===j||void 0===j?void 0:j.length)?l.a.createElement("div",{style:L.messageText},"Add users to grant write privileges"):null===j?l.a.createElement("div",{style:L.messageText},"Loading..."):l.a.createElement("div",null,j.map((function(e){return l.a.createElement("div",{style:Object(x.a)({},L.userBlock)},l.a.createElement("div",{style:L.adminLeft},l.a.createElement("div",{style:L.iconHolder},l.a.createElement(k.a,{value:e,size:34,style:L.icon})),l.a.createElement("div",{style:L.adminNameHolder},l.a.createElement("div",null,e.slice(0,6)," ",z===e?l.a.createElement("span",{style:L.youText},"[You]"):""))),l.a.createElement("div",{style:L.adminTools}))})))))))),onClose:n}):null}var B=n(223),D={container:{position:"relative",padding:10,backgroundColor:"#FFF",width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",fontFamily:"Open Sans",boxSizing:"border-box",paddingTop:6},toolsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:2,marginBottom:4,color:s.j,fontSize:12},icon:{cursor:"pointer",marginRight:4},tools:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",color:s.j,fontSize:12,backgroundColor:s.e,borderRadius:2,padding:2,border:s.a}};function F(e){var t=e.sailplane,n=e.sharedFS,r=Object(o.useState)(!1),m=Object(i.a)(r,2),x=m[0],w=m[1],C=Object(o.useState)(!1),A=Object(i.a)(C,2),k=A[0],S=A[1],F=Object(o.useState)(null),z=Object(i.a)(F,2),T=z[0],R=z[1],H=Object(f.c)(),M=Object(f.d)((function(e){return e.main})),Q=M.instances,N=M.instanceIndex,P=Object(E.a)(Q.length);Object(o.useEffect)((function(){P&&P<Q.length&&H(Object(y.e)(Q.length-1))}),[Q.length,P]);var Y=function(){var e=Object(c.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.b(t);case 2:n=e.sent,r=b.c(n),H(Object(y.a)(r,n.toString(),!1)),w(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(a.a.mark((function e(n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){H(Object(p.b)({message:"Invalid address",isError:!0})),Object(h.a)(5500).then((function(){return H(Object(p.b)({}))}))},e.next=3,b.a(t,n);case 3:if(!e.sent){e.next=13;break}if(c=b.c(n),!Q.map((function(e){return e.address})).includes(n)){e.next=9;break}return H(Object(p.b)({message:"Drive [".concat(c,"] already exists"),isError:!0})),Object(h.a)(5500).then((function(){return H(Object(p.b)({}))})),e.abrupt("return");case 9:H(Object(y.a)(c,n,!0)),S(!1),e.next=14;break;case 13:r();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(O.a)(k,(function(e){return L(e)}),(function(){return S(!1)}),"",{placeholder:"drive address"});return l.a.createElement("div",{style:D.container},l.a.createElement(B.a,{sharedFS:n,title:"Drives",iconComponent:v.g}),l.a.createElement("div",{style:D.toolsContainer},l.a.createElement("div",{style:D.tools},k||x?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{className:"importInstance",defaultColor:s.j,changeColor:s.i,iconComponent:d.s,title:"Import drive",onClick:function(){return S(!0)}}),l.a.createElement(u.a,{className:"addInstance",defaultColor:s.j,changeColor:s.i,iconComponent:d.o,title:"Create drive",onClick:function(){return Y()}})),k?W:null)),l.a.createElement("div",{style:D.instances},Q.map((function(e,t){return l.a.createElement(g,{instanceIndex:t,key:e.address.toString(),data:e,selected:e===Q[N],onClick:function(){H(Object(y.e)(t))},onDelete:function(){H(Object(y.c)(t))},onAccess:function(){H(Object(y.e)(t)),setTimeout((function(){return R(e)}),500)}})}))),T?l.a.createElement(I,{onClose:function(){return R(null)},instanceToModifyAccess:T,sharedFS:n}):null,l.a.createElement(j.a,null))}},597:function(e,t,n){e.exports=n(1457)},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return s}));var r=n(52);function a(e,t,n){return{type:r.a.ADD_INSTANCE,name:e,address:t,isImported:n}}function c(e,t){return{type:r.a.SET_ENCRYPTION_KEY,key:e,keyType:t}}function i(){return{type:r.a.CLEAR_ENCRYPTION_KEY}}function o(e){return{type:r.a.SET_INSTANCE_INDEX,index:e}}function l(e){return{type:r.a.REMOVE_INSTANCE,index:e}}function s(e){return{type:r.a.SET_NEW_USER,bool:e}}},602:function(e,t,n){},613:function(e,t){},615:function(e,t){},625:function(e,t){},627:function(e,t){},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return x}));var r=n(2),a=n.n(r),c=n(15),i=n(8),o=n(59),l=n(222),s=n.n(l),u=s.a.parse,d=n(347);function f(e,t){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.a.isValid(n)){e.next=14;break}return e.next=3,O(t,n);case 3:if("fsstore"===e.sent.type){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,j(t,n);case 8:if("orbitdb"===e.sent.type){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){return{meta:{iv:e.iv},accessController:{type:"orbitdb"}}};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iv||Object(o.randomBytes)(16);return e.determineAddress(t.name||"sailplane/drives/".concat(n.toString("hex")),Object(c.a)(Object(c.a)({},m({iv:n})),t))}function g(e){var t=(new TextEncoder).encode(u(e).root);return d.entropyToMnemonic(t.slice(-32)).split(" ").slice(-3).join("-")}var v=function(e){return e._orbitdb._ipfs};function O(e,t){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t).dag.get(u(n).root);case 2:return r=e.sent,c=r.value,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(a.a.mark((function e(t,n){var r,c,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,u(n));case 2:return r=e.sent,c=r.accessController,e.next=6,v(t).dag.get(c);case 6:return i=e.sent,o=i.value,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={autoStart:!1};function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=t.toString(),e.mounted[t]||n[t]||(n[t]=e.mount(t,Object(c.a)(Object(c.a)({},h),r)).finally((function(){return delete n[t]})))}},664:function(e,t){},7:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));var r="#2b6284",a="#ecf4f9",c="#9fc7e0",i="#97bace",o="hsl(204,38%,55%)",l="hsl(205,49%,66%)",s="#67a1cb",u="rgb(241 249 255)",d="#3881ad",f="#ef6565",p="#53c171",m="1px solid rgb(208, 227, 239)"},729:function(e,t){},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(2),a=n.n(r),c=n(8),i=n(11),o=n(1),l=n.n(o),s=n(48),u=n(7);function d(e,t,n,r,d){var f=d.placeholder,p=d.isPassword,m=d.isError,b=d.confirmTitle,g=Object(o.useState)(r),v=Object(i.a)(g,2),O=v[0],y=v[1],j=Object(o.useState)(!1),E=Object(i.a)(j,2),h=E[0],x=E[1],w=Object(o.useRef)(null),C=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(O);case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){m&&C()}),[O]);var A={input:{border:"1px solid ".concat(h?u.b:m?u.c:u.g),borderRadius:4,color:u.d,fontSize:14,fontWeight:200,padding:4,marginRight:4,display:"inline-flex",flexGrow:2},acceptButton:{backgroundColor:u.g,color:"#FFF",fontSize:12,padding:"3px 5px",borderRadius:2,cursor:"pointer",zIndex:2}};return Object(o.useEffect)((function(){e?(w.current.focus(),w.current.select()):y(r)}),[e]),l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{ref:w,className:"textInput",type:p?"password":"text",placeholder:f,style:A.input,value:O,onClick:function(e){return e.stopPropagation()},onChange:function(e){return y(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(O)}}),l.a.createElement("div",{onClick:function(e){e.stopPropagation(),t(O)},style:A.acceptButton},b||"Accept"),l.a.createElement(s.a,{title:"Cancel",onClick:function(){return n()},changeColor:u.i}))}},730:function(e,t){},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(2),a=n.n(r),c=n(8),i=n(22);function o(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.readAsArrayBuffer(e)}))}var l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,l,s,u,d,f,p,m,b,g,v,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t).catch((function(e){console.error(e)}));case 2:return r=e.sent,r=new Uint8Array(r),c=new TextEncoder("utf-8").encode(n),l=window.crypto.getRandomValues(new Uint8Array(8)),e.next=8,window.crypto.subtle.importKey("raw",c,{name:"PBKDF2"},!1,["deriveBits"]).catch((function(e){console.error(e)}));case 8:return s=e.sent,console.log("passphrasekey imported"),e.next=12,window.crypto.subtle.deriveBits({name:"PBKDF2",salt:l,iterations:1e4,hash:"SHA-256"},s,384).catch((function(e){console.error(e)}));case 12:return u=e.sent,console.log("pbkdf2bytes derived"),u=new Uint8Array(u),d=u.slice(0,32),f=u.slice(32),e.next=19,window.crypto.subtle.importKey("raw",d,{name:"AES-CBC",length:256},!1,["encrypt"]).catch((function(e){console.error(e)}));case 19:return p=e.sent,console.log("key imported"),e.next=23,window.crypto.subtle.encrypt({name:"AES-CBC",iv:f},p,r).catch((function(e){console.error(e)}));case 23:if(m=e.sent){e.next=27;break}return console.error("Fuck"),e.abrupt("return");case 27:return console.log("plaintext encrypted"),m=new Uint8Array(m),(b=new Uint8Array(m.length+16)).set(new TextEncoder("utf-8").encode("Salted__")),b.set(l,8),b.set(m,16),(g=new Blob([b],{type:t.type})).name=t.name,e.next=37,Object(i.s)(n);case 37:return v=e.sent,O=v.substr(0,10),g.path="".concat(t.path,".encrypted-sailplane_").concat(O),g.lastModified=t.lastModified,g.lastModifiedDate=t.lastModifiedDate,e.abrupt("return",g);case 43:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i,l,s,u,d,f,p,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t).catch((function(e){console.error(e)}));case 2:return r=e.sent,r=new Uint8Array(r),c=new TextEncoder("utf-8").encode(n),i=r.slice(8,16),e.next=8,window.crypto.subtle.importKey("raw",c,{name:"PBKDF2"},!1,["deriveBits"]).catch((function(e){console.error(e)}));case 8:return l=e.sent,console.log("passphrasekey imported"),e.next=12,window.crypto.subtle.deriveBits({name:"PBKDF2",salt:i,iterations:1e4,hash:"SHA-256"},l,384).catch((function(e){console.error(e)}));case 12:return s=e.sent,console.log("pbkdf2bytes derived"),s=new Uint8Array(s),u=s.slice(0,32),d=s.slice(32),r=r.slice(16),e.next=20,window.crypto.subtle.importKey("raw",u,{name:"AES-CBC",length:256},!1,["decrypt"]).catch((function(e){console.error(e)}));case 20:return f=e.sent,console.log("key imported"),e.next=24,window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},f,r).catch((function(e){console.error(e)}));case 24:if(p=e.sent){e.next=27;break}return e.abrupt("return",!1);case 27:return console.log("ciphertext decrypted"),p=new Uint8Array(p),(m=new Blob([p],{type:"application/download"})).name=t.name,m.path=t.path,m.lastModified=t.lastModified,m.lastModifiedDate=t.lastModifiedDate,e.abrupt("return",m);case 35:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(e){var t=Object(i.f)(e);return/encrypted-sailplane/.test(t)?{isEncrypted:!0,passHash:t.split("_")[1],decryptedFilename:e.substring(0,e.length-t.length-1)}:{isEncrypted:!1,decryptedFilename:e}},d=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.s)(t);case 2:if(r=e.sent,r.substr(0,10)===n){e.next=6;break}return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(11),a=n(1);function c(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(a.useRef)(null),o=function(){return c(!0)},l=function(){return c(!1)};return Object(a.useEffect)((function(){var e=i.current;if(e)return e.addEventListener("mouseover",o),e.addEventListener("mouseout",l),function(){e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",l)}}),[i.current]),[i,n]}},860:function(e,t){},916:function(e,t){},924:function(e,t){},926:function(e,t){}},[[597,1,2]]]);
//# sourceMappingURL=main.f01b8d1e.chunk.js.map